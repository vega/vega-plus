{"version":3,"file":"vega-functions.min.js","sources":["../src/functions/data.js","../src/functions/encode.js","../src/functions/format.js","../src/constants.js","../src/visitors.js","../src/scales.js","../../../node_modules/d3-array/src/fsum.js","../../../node_modules/d3-geo/src/math.js","../../../node_modules/d3-geo/src/noop.js","../../../node_modules/d3-geo/src/stream.js","../../../node_modules/d3-geo/src/area.js","../../../node_modules/d3-geo/src/bounds.js","../../../node_modules/d3-geo/src/cartesian.js","../../../node_modules/d3-geo/src/centroid.js","../src/functions/geo.js","../src/functions/inscope.js","../src/functions/log.js","../../../node_modules/d3-color/src/define.js","../../../node_modules/d3-color/src/color.js","../../../node_modules/d3-color/src/math.js","../../../node_modules/d3-color/src/lab.js","../src/functions/luminance.js","../src/functions/merge.js","../src/functions/modify.js","../src/functions/pinch.js","../src/functions/pluck.js","../src/functions/sequence.js","../src/functions/scale.js","../src/functions/scale-gradient.js","../src/functions/shape.js","../src/functions/tree.js","../src/functions/window.js","../src/codegen.js","../../../node_modules/d3-array/src/range.js","../src/functions/intersect.js","../src/parser.js"],"sourcesContent":["import {truthy} from 'vega-util';\n\nexport function data(name) {\n  const data = this.context.data[name];\n  return data ? data.values.value : [];\n}\n\nexport function indata(name, field, value) {\n  const index = this.context.data[name]['index:' + field],\n        entry = index ? index.value.get(value) : undefined;\n  return entry ? entry.count : entry;\n}\n\nexport function setdata(name, tuples) {\n  const df = this.context.dataflow,\n        data = this.context.data[name],\n        input = data.input;\n\n  df.pulse(input, df.changeset().remove(truthy).insert(tuples));\n  return 1;\n}\n","export default function(item, name, retval) {\n  if (item) {\n    const df = this.context.dataflow,\n          target = item.mark.source;\n    df.pulse(target, df.changeset().encode(item, name));\n  }\n  return retval !== undefined ? retval : item;\n}\n","const wrap = method => function(value, spec) {\n  const locale = this.context.dataflow.locale();\n  return locale[method](spec)(value);\n};\n\nexport const format = wrap('format');\nexport const timeFormat = wrap('timeFormat');\nexport const utcFormat = wrap('utcFormat');\nexport const timeParse = wrap('timeParse');\nexport const utcParse = wrap('utcParse');\n\nconst dateObj = new Date(2000, 0, 1);\n\nfunction time(month, day, specifier) {\n  if (!Number.isInteger(month) || !Number.isInteger(day)) return '';\n  dateObj.setYear(2000);\n  dateObj.setMonth(month);\n  dateObj.setDate(day);\n  return timeFormat.call(this, dateObj, specifier);\n}\n\nexport function monthFormat(month) {\n  return time.call(this, month, 1, '%B');\n}\n\nexport function monthAbbrevFormat(month) {\n  return time.call(this, month, 1, '%b');\n}\n\nexport function dayFormat(day) {\n  return time.call(this, 0, 2 + day, '%A');\n}\n\nexport function dayAbbrevFormat(day) {\n  return time.call(this, 0, 2 + day, '%a');\n}\n","export const DataPrefix   = ':';\nexport const IndexPrefix  = '@';\nexport const ScalePrefix  = '%';\nexport const SignalPrefix = '$';\n","import {DataPrefix, IndexPrefix, ScalePrefix} from './constants';\nimport {Literal} from 'vega-expression';\nimport {error, hasOwnProperty} from 'vega-util';\n\nexport function dataVisitor(name, args, scope, params) {\n  if (args[0].type !== Literal) {\n    error('First argument to data functions must be a string literal.');\n  }\n\n  const data = args[0].value,\n        dataName = DataPrefix + data;\n\n  if (!hasOwnProperty(dataName, params)) {\n    try {\n      params[dataName] = scope.getData(data).tuplesRef();\n    } catch (err) {\n      // if data set does not exist, there's nothing to track\n    }\n  }\n}\n\nexport function indataVisitor(name, args, scope, params) {\n  if (args[0].type !== Literal) error('First argument to indata must be a string literal.');\n  if (args[1].type !== Literal) error('Second argument to indata must be a string literal.');\n\n  const data = args[0].value,\n        field = args[1].value,\n        indexName = IndexPrefix + field;\n\n  if (!hasOwnProperty(indexName, params)) {\n    params[indexName] = scope.getData(data).indataRef(scope, field);\n  }\n}\n\nexport function scaleVisitor(name, args, scope, params) {\n  if (args[0].type === Literal) {\n    // add scale dependency\n    addScaleDependency(scope, params, args[0].value);\n  } else {\n    // indirect scale lookup; add all scales as parameters\n    for (name in scope.scales) {\n      addScaleDependency(scope, params, name);\n    }\n  }\n}\n\nfunction addScaleDependency(scope, params, name) {\n  const scaleName = ScalePrefix + name;\n  if (!hasOwnProperty(params, scaleName)) {\n    try {\n      params[scaleName] = scope.scaleRef(name);\n    } catch (err) {\n      // TODO: error handling? warning?\n    }\n  }\n}\n","import {ScalePrefix} from './constants';\nimport {scaleVisitor} from './visitors';\nimport {Literal} from 'vega-expression';\nimport {isFunction, isString, stringValue} from 'vega-util';\n\nexport function getScale(name, ctx) {\n  let s;\n  return isFunction(name) ? name\n    : isString(name) ? (s = ctx.scales[name]) && s.value\n    : undefined;\n}\n\nexport function internalScaleFunctions(codegen, fnctx, visitors) {\n  // add helper method to the 'this' expression function context\n  fnctx.__bandwidth = s => s && s.bandwidth ? s.bandwidth() : 0;\n\n  // register AST visitors for internal scale functions\n  visitors._bandwidth = scaleVisitor;\n  visitors._range = scaleVisitor;\n  visitors._scale = scaleVisitor;\n\n  // resolve scale reference directly to the signal hash argument\n  const ref = arg => '_[' + (\n    arg.type === Literal\n      ? stringValue(ScalePrefix + arg.value)\n      : stringValue(ScalePrefix) + '+' + codegen(arg)\n  ) + ']';\n\n  // define and return internal scale function code generators\n  // these internal functions are called by mark encoders\n  return {\n    _bandwidth: args => `this.__bandwidth(${ref(args[0])})`,\n    _range: args => `${ref(args[0])}.range()`,\n    _scale: args => `${ref(args[0])}(${codegen(args[1])})`\n  };\n}\n","// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import {Adder} from \"d3-array\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nexport var areaRingSum = new Adder();\n\n// hello?\n\nvar areaSum = new Adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum = new Adder();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnoli’s\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum = new Adder();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {Adder} from \"d3-array\";\nimport {areaStream, areaRingSum} from \"./area.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport {abs, degrees, epsilon, radians} from \"./math.js\";\nimport stream from \"./stream.js\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum,\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum = new Adder();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  },\n  sphere: function() {\n    lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360°) % 360°, except that we want\n// the distance between ±180° to be 360°.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import {Adder} from \"d3-array\";\nimport {asin, atan2, cos, degrees, epsilon, epsilon2, hypot, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = hypot(cx, cy, cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2.add(v * cx);\n  Y2.add(v * cy);\n  Z2.add(v * cz);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 = 0;\n  X2 = new Adder();\n  Y2 = new Adder();\n  Z2 = new Adder();\n  stream(object, centroidStream);\n\n  var x = +X2,\n      y = +Y2,\n      z = +Z2,\n      m = hypot(x, y, z);\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = hypot(x, y, z);\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / m) * degrees];\n}\n","import {getScale} from '../scales';\nimport {\n  geoArea as area,\n  geoBounds as bounds,\n  geoCentroid as centroid\n} from 'd3-geo';\n\nfunction geoMethod(methodName, globalMethod) {\n  return function(projection, geojson, group) {\n    if (projection) {\n      // projection defined, use it\n      const p = getScale(projection, (group || this).context);\n      return p && p.path[methodName](geojson);\n    } else {\n      // projection undefined, use global method\n      return globalMethod(geojson);\n    }\n  };\n}\n\nexport const geoArea = geoMethod('area', area);\nexport const geoBounds = geoMethod('bounds', bounds);\nexport const geoCentroid = geoMethod('centroid', centroid);\n","export default function(item) {\n  const group = this.context.group;\n  let value = false;\n\n  if (group) while (item) {\n    if (item === group) { value = true; break; }\n    item = item.mark.group;\n  }\n  return value;\n}\n","function log(df, method, args) {\n  try {\n    df[method].apply(df, ['EXPRESSION'].concat([].slice.call(args)));\n  } catch (err) {\n    df.warn(err);\n  }\n  return args[args.length-1];\n}\n\nexport function warn() {\n  return log(this.context.dataflow, 'warn', arguments);\n}\n\nexport function info() {\n  return log(this.context.dataflow, 'info', arguments);\n}\n\nexport function debug() {\n  return log(this.context.dataflow, 'debug', arguments);\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import {rgb} from 'd3-color';\n\n// https://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\nfunction channel_luminance_value(channelValue) {\n  const val = channelValue / 255;\n  if (val <= 0.03928) {\n    return val / 12.92;\n  }\n  return Math.pow((val + 0.055) / 1.055, 2.4);\n}\n\nexport function luminance(color) {\n  const c = rgb(color),\n        r = channel_luminance_value(c.r),\n        g = channel_luminance_value(c.g),\n        b = channel_luminance_value(c.b);\n  return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n}\n\n// https://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef\nexport function contrast(color1, color2) {\n  const lum1 = luminance(color1),\n        lum2 = luminance(color2),\n        lumL = Math.max(lum1, lum2),\n        lumD = Math.min(lum1, lum2);\n  return (lumL + 0.05) / (lumD + 0.05);\n}\n","import {extend} from 'vega-util';\n\nexport default function() {\n  const args = [].slice.call(arguments);\n  args.unshift({});\n  return extend(...args);\n}\n","import {isTuple} from 'vega-dataflow';\nimport {isArray, isObject, truthy} from 'vega-util';\n\nfunction equal(a, b) {\n  return a === b || a !== a && b !== b ? true\n    : isArray(a) ? (\n        isArray(b) && a.length === b.length ? equalArray(a, b) : false\n      )\n    : isObject(a) && isObject(b) ? equalObject(a, b)\n    : false;\n}\n\nfunction equalArray(a, b) {\n  for (let i=0, n=a.length; i<n; ++i) {\n    if (!equal(a[i], b[i])) return false;\n  }\n  return true;\n}\n\nfunction equalObject(a, b) {\n  for (const key in a) {\n    if (!equal(a[key], b[key])) return false;\n  }\n  return true;\n}\n\nfunction removePredicate(props) {\n  return _ => equalObject(props, _);\n}\n\nexport default function(name, insert, remove, toggle, modify, values) {\n  const df = this.context.dataflow,\n        data = this.context.data[name],\n        input = data.input,\n        stamp = df.stamp();\n\n  let changes = data.changes,\n      predicate, key;\n\n  if (df._trigger === false || !(input.value.length || insert || toggle)) {\n    // nothing to do!\n    return 0;\n  }\n\n  if (!changes || changes.stamp < stamp) {\n    data.changes = (changes = df.changeset());\n    changes.stamp = stamp;\n    df.runAfter(() => {\n      data.modified = true;\n      df.pulse(input, changes).run();\n    }, true, 1);\n  }\n\n  if (remove) {\n    predicate = remove === true ? truthy\n      : (isArray(remove) || isTuple(remove)) ? remove\n      : removePredicate(remove);\n    changes.remove(predicate);\n  }\n\n  if (insert) {\n    changes.insert(insert);\n  }\n\n  if (toggle) {\n    predicate = removePredicate(toggle);\n    if (input.value.some(predicate)) {\n      changes.remove(predicate);\n    } else {\n      changes.insert(toggle);\n    }\n  }\n\n  if (modify) {\n    for (key in values) {\n      changes.modify(modify, key, values[key]);\n    }\n  }\n\n  return 1;\n}\n","export function pinchDistance(event) {\n  const t = event.touches,\n        dx = t[0].clientX - t[1].clientX,\n        dy = t[0].clientY - t[1].clientY;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\nexport function pinchAngle(event) {\n  const t = event.touches;\n  return Math.atan2(\n    t[0].clientY - t[1].clientY,\n    t[0].clientX - t[1].clientX\n  );\n}\n","import {field, isArray} from 'vega-util';\n\n// memoize accessor functions\nconst accessors = {};\n\nexport default function(data, name) {\n  const accessor = accessors[name] || (accessors[name] = field(name));\n  return isArray(data) ? data.map(accessor) : accessor(data);\n}\n","import {error, isArray, isFunction, isString} from 'vega-util';\n\nfunction array(seq) {\n  return isArray(seq) || ArrayBuffer.isView(seq) ? seq : null;\n}\n\nfunction sequence(seq) {\n  return array(seq) || (isString(seq) ? seq : null);\n}\n\nexport function join(seq, ...args) {\n  return array(seq).join(...args);\n}\n\nexport function indexof(seq, ...args) {\n  return sequence(seq).indexOf(...args);\n}\n\nexport function lastindexof(seq, ...args) {\n  return sequence(seq).lastIndexOf(...args);\n}\n\nexport function slice(seq, ...args) {\n  return sequence(seq).slice(...args);\n}\n\nexport function replace(str, pattern, repl) {\n  if (isFunction(repl)) error('Function argument passed to replace.');\n  return String(str).replace(pattern, repl);\n}\nexport function reverse(seq) {\n  return array(seq).slice().reverse();\n}\n","import {getScale} from '../scales';\nimport {bandSpace} from 'vega-scale';\nimport {isArray} from 'vega-util';\n\nexport function bandspace(count, paddingInner, paddingOuter) {\n  return bandSpace(count || 0, paddingInner || 0, paddingOuter || 0);\n}\n\nexport function bandwidth(name, group) {\n  const s = getScale(name, (group || this).context);\n  return s && s.bandwidth ? s.bandwidth() : 0;\n}\n\nexport function copy(name, group) {\n  const s = getScale(name, (group || this).context);\n  return s ? s.copy() : undefined;\n}\n\nexport function domain(name, group) {\n  const s = getScale(name, (group || this).context);\n  return s ? s.domain() : [];\n}\n\nexport function invert(name, range, group) {\n  const s = getScale(name, (group || this).context);\n  return !s ? undefined\n    : isArray(range) ? (s.invertRange || s.invert)(range)\n    : (s.invert || s.invertExtent)(range);\n}\n\nexport function range(name, group) {\n  const s = getScale(name, (group || this).context);\n  return s && s.range ? s.range() : [];\n}\n\nexport function scale(name, value, group) {\n  const s = getScale(name, (group || this).context);\n  return s ? s(value) : undefined;\n}\n","import {getScale} from '../scales';\nimport {scale as get, scaleFraction} from 'vega-scale';\nimport {Gradient} from 'vega-scenegraph';\nimport {identity, peek} from 'vega-util';\n\nexport default function(scale, p0, p1, count, group) {\n  scale = getScale(scale, (group || this).context);\n\n  const gradient = Gradient(p0, p1);\n\n  let stops = scale.domain(),\n      min = stops[0],\n      max = peek(stops),\n      fraction = identity;\n\n  if (!(max - min)) {\n    // expand scale if domain has zero span, fix #1479\n    scale = (scale.interpolator\n      ? get('sequential')().interpolator(scale.interpolator())\n      : get('linear')().interpolate(scale.interpolate()).range(scale.range())\n    ).domain([min=0, max=1]);\n  } else {\n    fraction = scaleFraction(scale, min, max);\n  }\n\n  if (scale.ticks) {\n    stops = scale.ticks(+count || 15);\n    if (min !== stops[0]) stops.unshift(min);\n    if (max !== peek(stops)) stops.push(max);\n  }\n\n  stops.forEach(_ => gradient.stop(fraction(_), scale(_)));\n\n  return gradient;\n}\n","import {getScale} from '../scales';\nimport {pathParse, pathRender} from 'vega-scenegraph';\n\nexport function geoShape(projection, geojson, group) {\n  const p = getScale(projection, (group || this).context);\n  return function(context) {\n    return p ? p.path.context(context)(geojson) : '';\n  };\n}\n\nexport function pathShape(path) {\n  let p = null;\n  return function(context) {\n    return context\n      ? pathRender(context, (p = p || pathParse(path)))\n      : path;\n  };\n}\n","import {data} from './data';\n\nconst datum = d => d.data;\n\nfunction treeNodes(name, context) {\n  const tree = data.call(context, name);\n  return tree.root && tree.root.lookup || {};\n}\n\nexport function treePath(name, source, target) {\n  const nodes = treeNodes(name, this),\n        s = nodes[source],\n        t = nodes[target];\n  return s && t ? s.path(t).map(datum) : undefined;\n}\n\nexport function treeAncestors(name, node) {\n  const n = treeNodes(name, this)[node];\n  return n ? n.ancestors().map(datum) : undefined;\n}\n","const _window = () => (typeof window !== 'undefined' && window) || null;\n\nexport function screen() {\n  const w = _window();\n  return w ? w.screen : {};\n}\n\nexport function windowSize() {\n  const w = _window();\n  return w\n    ? [w.innerWidth, w.innerHeight]\n    : [undefined, undefined];\n}\n\nexport function containerSize() {\n  const view = this.context.dataflow,\n        el = view.container && view.container();\n  return el\n    ? [el.clientWidth, el.clientHeight]\n    : [undefined, undefined];\n}\n","import {\n  codegenExpression,\n  constants,\n  functions\n} from 'vega-expression';\n\nimport {\n  isTuple\n} from 'vega-dataflow';\n\nimport {\n  selectionIdTest,\n  selectionResolve,\n  selectionTest,\n  selectionTuples,\n  selectionVisitor\n} from 'vega-selections';\n\nimport {\n  cumulativeLogNormal,\n  cumulativeNormal,\n  cumulativeUniform,\n  densityLogNormal,\n  densityNormal,\n  densityUniform,\n  quantileLogNormal,\n  quantileNormal,\n  quantileUniform,\n  random,\n  sampleLogNormal,\n  sampleNormal,\n  sampleUniform\n} from 'vega-statistics';\n\nimport {\n  dayofyear,\n  timeOffset,\n  timeSequence,\n  timeUnitSpecifier,\n  utcOffset,\n  utcSequence,\n  utcdayofyear,\n  utcweek,\n  week\n} from 'vega-time';\n\nimport {\n  clampRange,\n  extend,\n  extent,\n  flush,\n  inrange,\n  isArray,\n  isBoolean,\n  isDate,\n  isNumber,\n  isObject,\n  isRegExp,\n  isString,\n  lerp,\n  pad,\n  panLinear,\n  panLog,\n  panPow,\n  panSymlog,\n  peek,\n  quarter,\n  span,\n  stringValue,\n  toBoolean,\n  toDate,\n  toNumber,\n  toString,\n  truncate,\n  utcquarter,\n  zoomLinear,\n  zoomLog,\n  zoomPow,\n  zoomSymlog\n} from 'vega-util';\n\nimport {\n  range as sequence\n} from 'd3-array';\n\nimport {\n  hcl,\n  hsl,\n  lab,\n  rgb\n} from 'd3-color';\n\nimport {\n  contrast,\n  luminance\n} from './functions/luminance';\n\nimport {\n  data,\n  indata,\n  setdata\n} from './functions/data';\n\nimport encode from './functions/encode';\n\nimport {\n  dayAbbrevFormat,\n  dayFormat,\n  format,\n  monthAbbrevFormat,\n  monthFormat,\n  timeFormat,\n  timeParse,\n  utcFormat,\n  utcParse\n} from './functions/format';\n\nimport {\n  geoArea,\n  geoBounds,\n  geoCentroid\n} from './functions/geo';\n\nimport inScope from './functions/inscope';\n\nimport intersect from './functions/intersect';\n\nimport {\n  debug,\n  info,\n  warn\n} from './functions/log';\n\nimport merge from './functions/merge';\n\nimport modify from './functions/modify';\n\nimport {\n  pinchAngle,\n  pinchDistance\n} from './functions/pinch';\n\nimport pluck from './functions/pluck';\n\nimport {\n  indexof,\n  join,\n  lastindexof,\n  replace,\n  reverse,\n  slice\n} from './functions/sequence';\n\nimport {\n  bandspace,\n  bandwidth,\n  copy,\n  domain,\n  invert,\n  range,\n  scale\n} from './functions/scale';\n\nimport scaleGradient from './functions/scale-gradient';\n\nimport {\n  geoShape,\n  pathShape\n} from './functions/shape';\n\nimport {\n  treeAncestors,\n  treePath\n} from './functions/tree';\n\nimport {\n  containerSize,\n  screen,\n  windowSize\n} from './functions/window';\n\nimport {\n  SignalPrefix\n} from './constants';\n\nimport {\n  internalScaleFunctions\n} from './scales';\n\nimport {\n  dataVisitor,\n  indataVisitor,\n  scaleVisitor\n} from './visitors';\n\n// Expression function context object\nexport const functionContext = {\n  random() { return random(); }, // override default\n  cumulativeNormal,\n  cumulativeLogNormal,\n  cumulativeUniform,\n  densityNormal,\n  densityLogNormal,\n  densityUniform,\n  quantileNormal,\n  quantileLogNormal,\n  quantileUniform,\n  sampleNormal,\n  sampleLogNormal,\n  sampleUniform,\n  isArray,\n  isBoolean,\n  isDate,\n  isDefined(_) { return _ !== undefined; },\n  isNumber,\n  isObject,\n  isRegExp,\n  isString,\n  isTuple,\n  isValid(_) { return _ != null && _ === _; },\n  toBoolean,\n  toDate,\n  toNumber,\n  toString,\n  indexof,\n  join,\n  lastindexof,\n  replace,\n  reverse,\n  slice,\n  flush,\n  lerp,\n  merge,\n  pad,\n  peek,\n  pluck,\n  span,\n  inrange,\n  truncate,\n  rgb,\n  lab,\n  hcl,\n  hsl,\n  luminance,\n  contrast,\n  sequence,\n  format,\n  utcFormat,\n  utcParse,\n  utcOffset,\n  utcSequence,\n  timeFormat,\n  timeParse,\n  timeOffset,\n  timeSequence,\n  timeUnitSpecifier,\n  monthFormat,\n  monthAbbrevFormat,\n  dayFormat,\n  dayAbbrevFormat,\n  quarter,\n  utcquarter,\n  week,\n  utcweek,\n  dayofyear,\n  utcdayofyear,\n  warn,\n  info,\n  debug,\n  extent,\n  inScope,\n  intersect,\n  clampRange,\n  pinchDistance,\n  pinchAngle,\n  screen,\n  containerSize,\n  windowSize,\n  bandspace,\n  setdata,\n  pathShape,\n  panLinear,\n  panLog,\n  panPow,\n  panSymlog,\n  zoomLinear,\n  zoomLog,\n  zoomPow,\n  zoomSymlog,\n  encode,\n  modify\n};\n\nconst eventFunctions = ['view', 'item', 'group', 'xy', 'x', 'y'], // event functions\n      eventPrefix = 'event.vega.', // event function prefix\n      thisPrefix = 'this.', // function context prefix\n      astVisitors = {}; // AST visitors for dependency analysis\n\n// export code generator parameters\nexport const codegenParams = {\n  forbidden:  ['_'],\n  allowed:    ['datum', 'event', 'item'],\n  fieldvar:   'datum',\n  globalvar:  id => `_[${stringValue(SignalPrefix + id)}]`,\n  functions:  buildFunctions,\n  constants:  constants,\n  visitors:   astVisitors\n};\n\n// export code generator\nexport const codeGenerator = codegenExpression(codegenParams);\n\n// Build expression function registry\nfunction buildFunctions(codegen) {\n  const fn = functions(codegen);\n  eventFunctions.forEach(name => fn[name] = eventPrefix + name);\n  for (const name in functionContext) { fn[name] = thisPrefix + name; }\n  extend(fn, internalScaleFunctions(codegen, functionContext, astVisitors));\n  return fn;\n}\n\n// Register an expression function\nexport function expressionFunction(name, fn, visitor) {\n  if (arguments.length === 1) {\n    return functionContext[name];\n  }\n\n  // register with the functionContext\n  functionContext[name] = fn;\n\n  // if there is an astVisitor register that, too\n  if (visitor) astVisitors[name] = visitor;\n\n  // if the code generator has already been initialized,\n  // we need to also register the function with it\n  if (codeGenerator) codeGenerator.functions[name] = thisPrefix + name;\n  return this;\n}\n\n// register expression functions with ast visitors\nexpressionFunction('bandwidth', bandwidth, scaleVisitor);\nexpressionFunction('copy', copy, scaleVisitor);\nexpressionFunction('domain', domain, scaleVisitor);\nexpressionFunction('range', range, scaleVisitor);\nexpressionFunction('invert', invert, scaleVisitor);\nexpressionFunction('scale', scale, scaleVisitor);\nexpressionFunction('gradient', scaleGradient, scaleVisitor);\nexpressionFunction('geoArea', geoArea, scaleVisitor);\nexpressionFunction('geoBounds', geoBounds, scaleVisitor);\nexpressionFunction('geoCentroid', geoCentroid, scaleVisitor);\nexpressionFunction('geoShape', geoShape, scaleVisitor);\nexpressionFunction('indata', indata, indataVisitor);\nexpressionFunction('data', data, dataVisitor);\nexpressionFunction('treePath', treePath, dataVisitor);\nexpressionFunction('treeAncestors', treeAncestors, dataVisitor);\n\n// register Vega-Lite selection functions\nexpressionFunction('vlSelectionTest', selectionTest, selectionVisitor);\nexpressionFunction('vlSelectionIdTest', selectionIdTest, selectionVisitor);\nexpressionFunction('vlSelectionResolve', selectionResolve, selectionVisitor);\nexpressionFunction('vlSelectionTuples', selectionTuples);\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import {Bounds, intersect} from 'vega-scenegraph';\nimport {array} from 'vega-util';\n\nexport default function(b, opt, group) {\n  if (!b) return [];\n\n  const [u, v] = b,\n        box = new Bounds().set(u[0], u[1], v[0], v[1]),\n        scene = group || this.context.dataflow.scenegraph().root;\n\n  return intersect(scene, box, filter(opt));\n}\n\nfunction filter(opt) {\n  let p = null;\n\n  if (opt) {\n    const types = array(opt.marktype),\n          names = array(opt.markname);\n    p = _ => (!types.length || types.some(t => _.marktype === t))\n          && (!names.length || names.some(s => _.name === s));\n  }\n\n  return p;\n}","import {codeGenerator, codegenParams} from './codegen';\nimport {SignalPrefix} from './constants';\nimport {CallExpression, parseExpression} from 'vega-expression';\nimport {error, extend, hasOwnProperty, isString, stringValue} from 'vega-util';\n\nexport default function(expr, scope) {\n  const params = {};\n\n  // parse the expression to an abstract syntax tree (ast)\n  let ast;\n  try {\n    expr = isString(expr) ? expr : (stringValue(expr) + '');\n    ast = parseExpression(expr);\n  } catch (err) {\n    error('Expression parse error: ' + expr);\n  }\n\n  // analyze ast function calls for dependencies\n  ast.visit(node => {\n    if (node.type !== CallExpression) return;\n    const name = node.callee.name,\n          visit = codegenParams.visitors[name];\n    if (visit) visit(name, node.arguments, scope, params);\n  });\n\n  // perform code generation\n  const gen = codeGenerator(ast);\n\n  // collect signal dependencies\n  gen.globals.forEach(name => {\n    const signalName = SignalPrefix + name;\n    if (!hasOwnProperty(params, signalName) && scope.getSignal(name)) {\n      params[signalName] = scope.signalRef(name);\n    }\n  });\n\n  // return generated expression code and dependencies\n  return {\n    $expr:   extend({code: gen.code}, scope.options.ast ? {ast} : null),\n    $fields: gen.fields,\n    $params: params\n  };\n}\n"],"names":["data","name","this","context","values","value","indata","field","index","entry","get","undefined","count","setdata","tuples","df","dataflow","input","pulse","changeset","remove","truthy","insert","item","retval","target","mark","source","encode","wrap","method","spec","locale","format","timeFormat","utcFormat","timeParse","utcParse","dateObj","Date","time","month","day","specifier","Number","isInteger","setYear","setMonth","setDate","call","monthFormat","monthAbbrevFormat","dayFormat","dayAbbrevFormat","ScalePrefix","dataVisitor","args","scope","params","type","Literal","error","dataName","hasOwnProperty","getData","tuplesRef","err","indataVisitor","indexName","indataRef","scaleVisitor","addScaleDependency","scales","scaleName","scaleRef","getScale","ctx","s","isFunction","isString","internalScaleFunctions","codegen","fnctx","visitors","__bandwidth","bandwidth","_bandwidth","_range","_scale","ref","arg","stringValue","Adder","constructor","_partials","Float64Array","_n","add","x","p","i","j","y","hi","lo","Math","abs","valueOf","n","epsilon","pi","PI","halfPi","quarterPi","tau","degrees","radians","atan2","cos","hypot","sin","sqrt","asin","noop","streamGeometry","geometry","stream","streamGeometryType","streamObjectType","Feature","object","FeatureCollection","features","length","Sphere","sphere","Point","coordinates","point","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","lineStart","lineEnd","polygonStart","polygonEnd","lambda00","phi00","lambda0","cosPhi0","sinPhi0","phi0","lambda1","phi1","lambda2","p0","deltaSum","ranges","range","areaRingSum","areaSum","areaStream","areaRingStart","areaRingEnd","areaRing","areaPointFirst","areaPoint","lambda","phi","dLambda","sdLambda","adLambda","cosPhi","sinPhi","k","u","v","cartesianCross","a","b","W0","W1","X0","Y0","Z0","X1","Y1","Z1","X2","Y2","Z2","x0","y0","z0","boundsStream","boundsPoint","boundsLineStart","boundsLineEnd","boundsRingPoint","boundsRingStart","boundsRingEnd","push","linePoint","d","l","spherical","cartesian","normal","inflection","phii","delta","sign","lambdai","antimeridian","angle","rangeCompare","rangeContains","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroidPointCartesian","z","centroidLinePointFirst","centroidLinePoint","w","centroidRingPointFirst","centroidRingPoint","cx","cy","cz","m","geoMethod","methodName","globalMethod","projection","geojson","group","path","geoArea","geoBounds","feature","merged","deltaMax","Infinity","sort","NaN","geoCentroid","log","apply","concat","slice","warn","arguments","info","debug","factory","prototype","extend","parent","definition","Object","create","key","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","trim","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","r","g","rgbConvert","o","opacity","rgb_formatHex","hex","rgb_formatRgb","isNaN","max","min","round","toString","h","Hsl","hslConvert","hsl","hsl2rgb","m1","m2","define","copy","channels","assign","displayable","formatHsl","pow","Xn","Zn","t0","t1","t2","labConvert","Lab","Hcl","hcl2lab","rgb2lrgb","xyz2lab","lab","t","lab2xyz","lrgb2rgb","hclConvert","c","hcl","channel_luminance_value","channelValue","val","luminance","contrast","color1","color2","lum1","lum2","unshift","equal","isArray","equalArray","isObject","equalObject","removePredicate","props","_","toggle","modify","stamp","predicate","changes","_trigger","runAfter","modified","run","isTuple","some","pinchDistance","event","touches","dx","clientX","dy","clientY","pinchAngle","accessors","accessor","map","array","seq","ArrayBuffer","isView","sequence","join","indexof","indexOf","lastindexof","lastIndexOf","replace","str","pattern","repl","String","reverse","bandspace","paddingInner","paddingOuter","bandSpace","domain","invert","invertRange","invertExtent","scale","p1","gradient","Gradient","stops","peek","fraction","identity","scaleFraction","interpolator","interpolate","ticks","forEach","stop","geoShape","pathShape","pathRender","pathParse","datum","treeNodes","tree","root","lookup","treePath","nodes","treeAncestors","node","ancestors","_window","window","screen","windowSize","innerWidth","innerHeight","containerSize","view","el","container","clientWidth","clientHeight","functionContext","random","cumulativeNormal","cumulativeLogNormal","cumulativeUniform","densityNormal","densityLogNormal","densityUniform","quantileNormal","quantileLogNormal","quantileUniform","sampleNormal","sampleLogNormal","sampleUniform","isBoolean","isDate","isDefined","isNumber","isRegExp","isValid","toBoolean","toDate","toNumber","flush","lerp","merge","pad","pluck","span","inrange","truncate","start","step","ceil","Array","utcOffset","utcSequence","timeOffset","timeSequence","timeUnitSpecifier","quarter","utcquarter","week","utcweek","dayofyear","utcdayofyear","extent","inScope","intersect","opt","box","Bounds","set","scene","scenegraph","types","marktype","names","markname","filter","clampRange","panLinear","panLog","panPow","panSymlog","zoomLinear","zoomLog","zoomPow","zoomSymlog","eventFunctions","thisPrefix","astVisitors","codegenParams","forbidden","allowed","fieldvar","globalvar","id","functions","fn","constants","codeGenerator","codegenExpression","expressionFunction","visitor","scaleGradient","selectionTest","selectionVisitor","selectionIdTest","selectionResolve","selectionTuples","expr","ast","parseExpression","visit","CallExpression","callee","gen","globals","signalName","getSignal","signalRef","$expr","code","options","$fields","fields","$params"],"mappings":"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"}