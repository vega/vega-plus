{"version":3,"file":"vega-expression.min.js","sources":["../src/ast.js","../src/parser.js","../src/constants.js","../src/functions.js","../src/codegen.js"],"sourcesContent":["export const RawCode = 'RawCode';\nexport const Literal = 'Literal';\nexport const Property = 'Property';\nexport const Identifier = 'Identifier';\n\nexport const ArrayExpression = 'ArrayExpression';\nexport const BinaryExpression = 'BinaryExpression';\nexport const CallExpression = 'CallExpression';\nexport const ConditionalExpression = 'ConditionalExpression';\nexport const LogicalExpression = 'LogicalExpression';\nexport const MemberExpression = 'MemberExpression';\nexport const ObjectExpression = 'ObjectExpression';\nexport const UnaryExpression = 'UnaryExpression';\n\nexport default function ASTNode(type) {\n  this.type = type;\n}\n\nASTNode.prototype.visit = function(visitor) {\n  let c, i, n;\n\n  if (visitor(this)) return 1;\n\n  for (c=children(this), i=0, n=c.length; i<n; ++i) {\n    if (c[i].visit(visitor)) return 1;\n  }\n};\n\nfunction children(node) {\n  switch (node.type) {\n    case ArrayExpression:\n      return node.elements;\n    case BinaryExpression:\n    case LogicalExpression:\n      return [node.left, node.right];\n    case CallExpression:\n      return [node.callee].concat(node.arguments);\n    case ConditionalExpression:\n      return [node.test, node.consequent, node.alternate];\n    case MemberExpression:\n      return [node.object, node.property];\n    case ObjectExpression:\n      return node.properties;\n    case Property:\n      return [node.key, node.value];\n    case UnaryExpression:\n      return [node.argument];\n    case Identifier:\n    case Literal:\n    case RawCode:\n    default:\n      return [];\n  }\n}\n","/*\n  The following expression parser is based on Esprima (http://esprima.org/).\n  Original header comment and license for Esprima is included here:\n\n  Copyright (C) 2013 Ariya Hidayat <ariya.hidayat@gmail.com>\n  Copyright (C) 2013 Thaddee Tyl <thaddee.tyl@gmail.com>\n  Copyright (C) 2013 Mathias Bynens <mathias@qiwi.be>\n  Copyright (C) 2012 Ariya Hidayat <ariya.hidayat@gmail.com>\n  Copyright (C) 2012 Mathias Bynens <mathias@qiwi.be>\n  Copyright (C) 2012 Joost-Wim Boekesteijn <joost-wim@boekesteijn.nl>\n  Copyright (C) 2012 Kris Kowal <kris.kowal@cixar.com>\n  Copyright (C) 2012 Yusuke Suzuki <utatane.tea@gmail.com>\n  Copyright (C) 2012 Arpad Borsos <arpad.borsos@googlemail.com>\n  Copyright (C) 2011 Ariya Hidayat <ariya.hidayat@gmail.com>\n\n  Redistribution and use in source and binary forms, with or without\n  modification, are permitted provided that the following conditions are met:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n    * Redistributions in binary form must reproduce the above copyright\n      notice, this list of conditions and the following disclaimer in the\n      documentation and/or other materials provided with the distribution.\n\n  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\n  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\nimport ASTNode from './ast';\n\nvar TokenName,\n    source,\n    index,\n    length,\n    lookahead;\n\nvar TokenBooleanLiteral = 1,\n    TokenEOF = 2,\n    TokenIdentifier = 3,\n    TokenKeyword = 4,\n    TokenNullLiteral = 5,\n    TokenNumericLiteral = 6,\n    TokenPunctuator = 7,\n    TokenStringLiteral = 8,\n    TokenRegularExpression = 9;\n\nTokenName = {};\nTokenName[TokenBooleanLiteral] = 'Boolean';\nTokenName[TokenEOF] = '<end>';\nTokenName[TokenIdentifier] = 'Identifier';\nTokenName[TokenKeyword] = 'Keyword';\nTokenName[TokenNullLiteral] = 'Null';\nTokenName[TokenNumericLiteral] = 'Numeric';\nTokenName[TokenPunctuator] = 'Punctuator';\nTokenName[TokenStringLiteral] = 'String';\nTokenName[TokenRegularExpression] = 'RegularExpression';\n\nvar SyntaxArrayExpression = 'ArrayExpression',\n    SyntaxBinaryExpression = 'BinaryExpression',\n    SyntaxCallExpression = 'CallExpression',\n    SyntaxConditionalExpression = 'ConditionalExpression',\n    SyntaxIdentifier = 'Identifier',\n    SyntaxLiteral = 'Literal',\n    SyntaxLogicalExpression = 'LogicalExpression',\n    SyntaxMemberExpression = 'MemberExpression',\n    SyntaxObjectExpression = 'ObjectExpression',\n    SyntaxProperty = 'Property',\n    SyntaxUnaryExpression = 'UnaryExpression';\n\n// Error messages should be identical to V8.\nvar MessageUnexpectedToken = 'Unexpected token %0',\n    MessageUnexpectedNumber = 'Unexpected number',\n    MessageUnexpectedString = 'Unexpected string',\n    MessageUnexpectedIdentifier = 'Unexpected identifier',\n    MessageUnexpectedReserved = 'Unexpected reserved word',\n    MessageUnexpectedEOS = 'Unexpected end of input',\n    MessageInvalidRegExp = 'Invalid regular expression',\n    MessageUnterminatedRegExp = 'Invalid regular expression: missing /',\n    MessageStrictOctalLiteral = 'Octal literals are not allowed in strict mode.',\n    MessageStrictDuplicateProperty = 'Duplicate data property in object literal not allowed in strict mode';\n\nvar ILLEGAL = 'ILLEGAL',\n    DISABLED = 'Disabled.';\n\n// See also tools/generate-unicode-regex.py.\nvar RegexNonAsciiIdentifierStart = new RegExp('[\\\\xAA\\\\xB5\\\\xBA\\\\xC0-\\\\xD6\\\\xD8-\\\\xF6\\\\xF8-\\\\u02C1\\\\u02C6-\\\\u02D1\\\\u02E0-\\\\u02E4\\\\u02EC\\\\u02EE\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037A-\\\\u037D\\\\u037F\\\\u0386\\\\u0388-\\\\u038A\\\\u038C\\\\u038E-\\\\u03A1\\\\u03A3-\\\\u03F5\\\\u03F7-\\\\u0481\\\\u048A-\\\\u052F\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05D0-\\\\u05EA\\\\u05F0-\\\\u05F2\\\\u0620-\\\\u064A\\\\u066E\\\\u066F\\\\u0671-\\\\u06D3\\\\u06D5\\\\u06E5\\\\u06E6\\\\u06EE\\\\u06EF\\\\u06FA-\\\\u06FC\\\\u06FF\\\\u0710\\\\u0712-\\\\u072F\\\\u074D-\\\\u07A5\\\\u07B1\\\\u07CA-\\\\u07EA\\\\u07F4\\\\u07F5\\\\u07FA\\\\u0800-\\\\u0815\\\\u081A\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08A0-\\\\u08B2\\\\u0904-\\\\u0939\\\\u093D\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0980\\\\u0985-\\\\u098C\\\\u098F\\\\u0990\\\\u0993-\\\\u09A8\\\\u09AA-\\\\u09B0\\\\u09B2\\\\u09B6-\\\\u09B9\\\\u09BD\\\\u09CE\\\\u09DC\\\\u09DD\\\\u09DF-\\\\u09E1\\\\u09F0\\\\u09F1\\\\u0A05-\\\\u0A0A\\\\u0A0F\\\\u0A10\\\\u0A13-\\\\u0A28\\\\u0A2A-\\\\u0A30\\\\u0A32\\\\u0A33\\\\u0A35\\\\u0A36\\\\u0A38\\\\u0A39\\\\u0A59-\\\\u0A5C\\\\u0A5E\\\\u0A72-\\\\u0A74\\\\u0A85-\\\\u0A8D\\\\u0A8F-\\\\u0A91\\\\u0A93-\\\\u0AA8\\\\u0AAA-\\\\u0AB0\\\\u0AB2\\\\u0AB3\\\\u0AB5-\\\\u0AB9\\\\u0ABD\\\\u0AD0\\\\u0AE0\\\\u0AE1\\\\u0B05-\\\\u0B0C\\\\u0B0F\\\\u0B10\\\\u0B13-\\\\u0B28\\\\u0B2A-\\\\u0B30\\\\u0B32\\\\u0B33\\\\u0B35-\\\\u0B39\\\\u0B3D\\\\u0B5C\\\\u0B5D\\\\u0B5F-\\\\u0B61\\\\u0B71\\\\u0B83\\\\u0B85-\\\\u0B8A\\\\u0B8E-\\\\u0B90\\\\u0B92-\\\\u0B95\\\\u0B99\\\\u0B9A\\\\u0B9C\\\\u0B9E\\\\u0B9F\\\\u0BA3\\\\u0BA4\\\\u0BA8-\\\\u0BAA\\\\u0BAE-\\\\u0BB9\\\\u0BD0\\\\u0C05-\\\\u0C0C\\\\u0C0E-\\\\u0C10\\\\u0C12-\\\\u0C28\\\\u0C2A-\\\\u0C39\\\\u0C3D\\\\u0C58\\\\u0C59\\\\u0C60\\\\u0C61\\\\u0C85-\\\\u0C8C\\\\u0C8E-\\\\u0C90\\\\u0C92-\\\\u0CA8\\\\u0CAA-\\\\u0CB3\\\\u0CB5-\\\\u0CB9\\\\u0CBD\\\\u0CDE\\\\u0CE0\\\\u0CE1\\\\u0CF1\\\\u0CF2\\\\u0D05-\\\\u0D0C\\\\u0D0E-\\\\u0D10\\\\u0D12-\\\\u0D3A\\\\u0D3D\\\\u0D4E\\\\u0D60\\\\u0D61\\\\u0D7A-\\\\u0D7F\\\\u0D85-\\\\u0D96\\\\u0D9A-\\\\u0DB1\\\\u0DB3-\\\\u0DBB\\\\u0DBD\\\\u0DC0-\\\\u0DC6\\\\u0E01-\\\\u0E30\\\\u0E32\\\\u0E33\\\\u0E40-\\\\u0E46\\\\u0E81\\\\u0E82\\\\u0E84\\\\u0E87\\\\u0E88\\\\u0E8A\\\\u0E8D\\\\u0E94-\\\\u0E97\\\\u0E99-\\\\u0E9F\\\\u0EA1-\\\\u0EA3\\\\u0EA5\\\\u0EA7\\\\u0EAA\\\\u0EAB\\\\u0EAD-\\\\u0EB0\\\\u0EB2\\\\u0EB3\\\\u0EBD\\\\u0EC0-\\\\u0EC4\\\\u0EC6\\\\u0EDC-\\\\u0EDF\\\\u0F00\\\\u0F40-\\\\u0F47\\\\u0F49-\\\\u0F6C\\\\u0F88-\\\\u0F8C\\\\u1000-\\\\u102A\\\\u103F\\\\u1050-\\\\u1055\\\\u105A-\\\\u105D\\\\u1061\\\\u1065\\\\u1066\\\\u106E-\\\\u1070\\\\u1075-\\\\u1081\\\\u108E\\\\u10A0-\\\\u10C5\\\\u10C7\\\\u10CD\\\\u10D0-\\\\u10FA\\\\u10FC-\\\\u1248\\\\u124A-\\\\u124D\\\\u1250-\\\\u1256\\\\u1258\\\\u125A-\\\\u125D\\\\u1260-\\\\u1288\\\\u128A-\\\\u128D\\\\u1290-\\\\u12B0\\\\u12B2-\\\\u12B5\\\\u12B8-\\\\u12BE\\\\u12C0\\\\u12C2-\\\\u12C5\\\\u12C8-\\\\u12D6\\\\u12D8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135A\\\\u1380-\\\\u138F\\\\u13A0-\\\\u13F4\\\\u1401-\\\\u166C\\\\u166F-\\\\u167F\\\\u1681-\\\\u169A\\\\u16A0-\\\\u16EA\\\\u16EE-\\\\u16F8\\\\u1700-\\\\u170C\\\\u170E-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176C\\\\u176E-\\\\u1770\\\\u1780-\\\\u17B3\\\\u17D7\\\\u17DC\\\\u1820-\\\\u1877\\\\u1880-\\\\u18A8\\\\u18AA\\\\u18B0-\\\\u18F5\\\\u1900-\\\\u191E\\\\u1950-\\\\u196D\\\\u1970-\\\\u1974\\\\u1980-\\\\u19AB\\\\u19C1-\\\\u19C7\\\\u1A00-\\\\u1A16\\\\u1A20-\\\\u1A54\\\\u1AA7\\\\u1B05-\\\\u1B33\\\\u1B45-\\\\u1B4B\\\\u1B83-\\\\u1BA0\\\\u1BAE\\\\u1BAF\\\\u1BBA-\\\\u1BE5\\\\u1C00-\\\\u1C23\\\\u1C4D-\\\\u1C4F\\\\u1C5A-\\\\u1C7D\\\\u1CE9-\\\\u1CEC\\\\u1CEE-\\\\u1CF1\\\\u1CF5\\\\u1CF6\\\\u1D00-\\\\u1DBF\\\\u1E00-\\\\u1F15\\\\u1F18-\\\\u1F1D\\\\u1F20-\\\\u1F45\\\\u1F48-\\\\u1F4D\\\\u1F50-\\\\u1F57\\\\u1F59\\\\u1F5B\\\\u1F5D\\\\u1F5F-\\\\u1F7D\\\\u1F80-\\\\u1FB4\\\\u1FB6-\\\\u1FBC\\\\u1FBE\\\\u1FC2-\\\\u1FC4\\\\u1FC6-\\\\u1FCC\\\\u1FD0-\\\\u1FD3\\\\u1FD6-\\\\u1FDB\\\\u1FE0-\\\\u1FEC\\\\u1FF2-\\\\u1FF4\\\\u1FF6-\\\\u1FFC\\\\u2071\\\\u207F\\\\u2090-\\\\u209C\\\\u2102\\\\u2107\\\\u210A-\\\\u2113\\\\u2115\\\\u2119-\\\\u211D\\\\u2124\\\\u2126\\\\u2128\\\\u212A-\\\\u212D\\\\u212F-\\\\u2139\\\\u213C-\\\\u213F\\\\u2145-\\\\u2149\\\\u214E\\\\u2160-\\\\u2188\\\\u2C00-\\\\u2C2E\\\\u2C30-\\\\u2C5E\\\\u2C60-\\\\u2CE4\\\\u2CEB-\\\\u2CEE\\\\u2CF2\\\\u2CF3\\\\u2D00-\\\\u2D25\\\\u2D27\\\\u2D2D\\\\u2D30-\\\\u2D67\\\\u2D6F\\\\u2D80-\\\\u2D96\\\\u2DA0-\\\\u2DA6\\\\u2DA8-\\\\u2DAE\\\\u2DB0-\\\\u2DB6\\\\u2DB8-\\\\u2DBE\\\\u2DC0-\\\\u2DC6\\\\u2DC8-\\\\u2DCE\\\\u2DD0-\\\\u2DD6\\\\u2DD8-\\\\u2DDE\\\\u2E2F\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303C\\\\u3041-\\\\u3096\\\\u309D-\\\\u309F\\\\u30A1-\\\\u30FA\\\\u30FC-\\\\u30FF\\\\u3105-\\\\u312D\\\\u3131-\\\\u318E\\\\u31A0-\\\\u31BA\\\\u31F0-\\\\u31FF\\\\u3400-\\\\u4DB5\\\\u4E00-\\\\u9FCC\\\\uA000-\\\\uA48C\\\\uA4D0-\\\\uA4FD\\\\uA500-\\\\uA60C\\\\uA610-\\\\uA61F\\\\uA62A\\\\uA62B\\\\uA640-\\\\uA66E\\\\uA67F-\\\\uA69D\\\\uA6A0-\\\\uA6EF\\\\uA717-\\\\uA71F\\\\uA722-\\\\uA788\\\\uA78B-\\\\uA78E\\\\uA790-\\\\uA7AD\\\\uA7B0\\\\uA7B1\\\\uA7F7-\\\\uA801\\\\uA803-\\\\uA805\\\\uA807-\\\\uA80A\\\\uA80C-\\\\uA822\\\\uA840-\\\\uA873\\\\uA882-\\\\uA8B3\\\\uA8F2-\\\\uA8F7\\\\uA8FB\\\\uA90A-\\\\uA925\\\\uA930-\\\\uA946\\\\uA960-\\\\uA97C\\\\uA984-\\\\uA9B2\\\\uA9CF\\\\uA9E0-\\\\uA9E4\\\\uA9E6-\\\\uA9EF\\\\uA9FA-\\\\uA9FE\\\\uAA00-\\\\uAA28\\\\uAA40-\\\\uAA42\\\\uAA44-\\\\uAA4B\\\\uAA60-\\\\uAA76\\\\uAA7A\\\\uAA7E-\\\\uAAAF\\\\uAAB1\\\\uAAB5\\\\uAAB6\\\\uAAB9-\\\\uAABD\\\\uAAC0\\\\uAAC2\\\\uAADB-\\\\uAADD\\\\uAAE0-\\\\uAAEA\\\\uAAF2-\\\\uAAF4\\\\uAB01-\\\\uAB06\\\\uAB09-\\\\uAB0E\\\\uAB11-\\\\uAB16\\\\uAB20-\\\\uAB26\\\\uAB28-\\\\uAB2E\\\\uAB30-\\\\uAB5A\\\\uAB5C-\\\\uAB5F\\\\uAB64\\\\uAB65\\\\uABC0-\\\\uABE2\\\\uAC00-\\\\uD7A3\\\\uD7B0-\\\\uD7C6\\\\uD7CB-\\\\uD7FB\\\\uF900-\\\\uFA6D\\\\uFA70-\\\\uFAD9\\\\uFB00-\\\\uFB06\\\\uFB13-\\\\uFB17\\\\uFB1D\\\\uFB1F-\\\\uFB28\\\\uFB2A-\\\\uFB36\\\\uFB38-\\\\uFB3C\\\\uFB3E\\\\uFB40\\\\uFB41\\\\uFB43\\\\uFB44\\\\uFB46-\\\\uFBB1\\\\uFBD3-\\\\uFD3D\\\\uFD50-\\\\uFD8F\\\\uFD92-\\\\uFDC7\\\\uFDF0-\\\\uFDFB\\\\uFE70-\\\\uFE74\\\\uFE76-\\\\uFEFC\\\\uFF21-\\\\uFF3A\\\\uFF41-\\\\uFF5A\\\\uFF66-\\\\uFFBE\\\\uFFC2-\\\\uFFC7\\\\uFFCA-\\\\uFFCF\\\\uFFD2-\\\\uFFD7\\\\uFFDA-\\\\uFFDC]'),\n    // eslint-disable-next-line no-misleading-character-class\n    RegexNonAsciiIdentifierPart = new RegExp('[\\\\xAA\\\\xB5\\\\xBA\\\\xC0-\\\\xD6\\\\xD8-\\\\xF6\\\\xF8-\\\\u02C1\\\\u02C6-\\\\u02D1\\\\u02E0-\\\\u02E4\\\\u02EC\\\\u02EE\\\\u0300-\\\\u0374\\\\u0376\\\\u0377\\\\u037A-\\\\u037D\\\\u037F\\\\u0386\\\\u0388-\\\\u038A\\\\u038C\\\\u038E-\\\\u03A1\\\\u03A3-\\\\u03F5\\\\u03F7-\\\\u0481\\\\u0483-\\\\u0487\\\\u048A-\\\\u052F\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u0591-\\\\u05BD\\\\u05BF\\\\u05C1\\\\u05C2\\\\u05C4\\\\u05C5\\\\u05C7\\\\u05D0-\\\\u05EA\\\\u05F0-\\\\u05F2\\\\u0610-\\\\u061A\\\\u0620-\\\\u0669\\\\u066E-\\\\u06D3\\\\u06D5-\\\\u06DC\\\\u06DF-\\\\u06E8\\\\u06EA-\\\\u06FC\\\\u06FF\\\\u0710-\\\\u074A\\\\u074D-\\\\u07B1\\\\u07C0-\\\\u07F5\\\\u07FA\\\\u0800-\\\\u082D\\\\u0840-\\\\u085B\\\\u08A0-\\\\u08B2\\\\u08E4-\\\\u0963\\\\u0966-\\\\u096F\\\\u0971-\\\\u0983\\\\u0985-\\\\u098C\\\\u098F\\\\u0990\\\\u0993-\\\\u09A8\\\\u09AA-\\\\u09B0\\\\u09B2\\\\u09B6-\\\\u09B9\\\\u09BC-\\\\u09C4\\\\u09C7\\\\u09C8\\\\u09CB-\\\\u09CE\\\\u09D7\\\\u09DC\\\\u09DD\\\\u09DF-\\\\u09E3\\\\u09E6-\\\\u09F1\\\\u0A01-\\\\u0A03\\\\u0A05-\\\\u0A0A\\\\u0A0F\\\\u0A10\\\\u0A13-\\\\u0A28\\\\u0A2A-\\\\u0A30\\\\u0A32\\\\u0A33\\\\u0A35\\\\u0A36\\\\u0A38\\\\u0A39\\\\u0A3C\\\\u0A3E-\\\\u0A42\\\\u0A47\\\\u0A48\\\\u0A4B-\\\\u0A4D\\\\u0A51\\\\u0A59-\\\\u0A5C\\\\u0A5E\\\\u0A66-\\\\u0A75\\\\u0A81-\\\\u0A83\\\\u0A85-\\\\u0A8D\\\\u0A8F-\\\\u0A91\\\\u0A93-\\\\u0AA8\\\\u0AAA-\\\\u0AB0\\\\u0AB2\\\\u0AB3\\\\u0AB5-\\\\u0AB9\\\\u0ABC-\\\\u0AC5\\\\u0AC7-\\\\u0AC9\\\\u0ACB-\\\\u0ACD\\\\u0AD0\\\\u0AE0-\\\\u0AE3\\\\u0AE6-\\\\u0AEF\\\\u0B01-\\\\u0B03\\\\u0B05-\\\\u0B0C\\\\u0B0F\\\\u0B10\\\\u0B13-\\\\u0B28\\\\u0B2A-\\\\u0B30\\\\u0B32\\\\u0B33\\\\u0B35-\\\\u0B39\\\\u0B3C-\\\\u0B44\\\\u0B47\\\\u0B48\\\\u0B4B-\\\\u0B4D\\\\u0B56\\\\u0B57\\\\u0B5C\\\\u0B5D\\\\u0B5F-\\\\u0B63\\\\u0B66-\\\\u0B6F\\\\u0B71\\\\u0B82\\\\u0B83\\\\u0B85-\\\\u0B8A\\\\u0B8E-\\\\u0B90\\\\u0B92-\\\\u0B95\\\\u0B99\\\\u0B9A\\\\u0B9C\\\\u0B9E\\\\u0B9F\\\\u0BA3\\\\u0BA4\\\\u0BA8-\\\\u0BAA\\\\u0BAE-\\\\u0BB9\\\\u0BBE-\\\\u0BC2\\\\u0BC6-\\\\u0BC8\\\\u0BCA-\\\\u0BCD\\\\u0BD0\\\\u0BD7\\\\u0BE6-\\\\u0BEF\\\\u0C00-\\\\u0C03\\\\u0C05-\\\\u0C0C\\\\u0C0E-\\\\u0C10\\\\u0C12-\\\\u0C28\\\\u0C2A-\\\\u0C39\\\\u0C3D-\\\\u0C44\\\\u0C46-\\\\u0C48\\\\u0C4A-\\\\u0C4D\\\\u0C55\\\\u0C56\\\\u0C58\\\\u0C59\\\\u0C60-\\\\u0C63\\\\u0C66-\\\\u0C6F\\\\u0C81-\\\\u0C83\\\\u0C85-\\\\u0C8C\\\\u0C8E-\\\\u0C90\\\\u0C92-\\\\u0CA8\\\\u0CAA-\\\\u0CB3\\\\u0CB5-\\\\u0CB9\\\\u0CBC-\\\\u0CC4\\\\u0CC6-\\\\u0CC8\\\\u0CCA-\\\\u0CCD\\\\u0CD5\\\\u0CD6\\\\u0CDE\\\\u0CE0-\\\\u0CE3\\\\u0CE6-\\\\u0CEF\\\\u0CF1\\\\u0CF2\\\\u0D01-\\\\u0D03\\\\u0D05-\\\\u0D0C\\\\u0D0E-\\\\u0D10\\\\u0D12-\\\\u0D3A\\\\u0D3D-\\\\u0D44\\\\u0D46-\\\\u0D48\\\\u0D4A-\\\\u0D4E\\\\u0D57\\\\u0D60-\\\\u0D63\\\\u0D66-\\\\u0D6F\\\\u0D7A-\\\\u0D7F\\\\u0D82\\\\u0D83\\\\u0D85-\\\\u0D96\\\\u0D9A-\\\\u0DB1\\\\u0DB3-\\\\u0DBB\\\\u0DBD\\\\u0DC0-\\\\u0DC6\\\\u0DCA\\\\u0DCF-\\\\u0DD4\\\\u0DD6\\\\u0DD8-\\\\u0DDF\\\\u0DE6-\\\\u0DEF\\\\u0DF2\\\\u0DF3\\\\u0E01-\\\\u0E3A\\\\u0E40-\\\\u0E4E\\\\u0E50-\\\\u0E59\\\\u0E81\\\\u0E82\\\\u0E84\\\\u0E87\\\\u0E88\\\\u0E8A\\\\u0E8D\\\\u0E94-\\\\u0E97\\\\u0E99-\\\\u0E9F\\\\u0EA1-\\\\u0EA3\\\\u0EA5\\\\u0EA7\\\\u0EAA\\\\u0EAB\\\\u0EAD-\\\\u0EB9\\\\u0EBB-\\\\u0EBD\\\\u0EC0-\\\\u0EC4\\\\u0EC6\\\\u0EC8-\\\\u0ECD\\\\u0ED0-\\\\u0ED9\\\\u0EDC-\\\\u0EDF\\\\u0F00\\\\u0F18\\\\u0F19\\\\u0F20-\\\\u0F29\\\\u0F35\\\\u0F37\\\\u0F39\\\\u0F3E-\\\\u0F47\\\\u0F49-\\\\u0F6C\\\\u0F71-\\\\u0F84\\\\u0F86-\\\\u0F97\\\\u0F99-\\\\u0FBC\\\\u0FC6\\\\u1000-\\\\u1049\\\\u1050-\\\\u109D\\\\u10A0-\\\\u10C5\\\\u10C7\\\\u10CD\\\\u10D0-\\\\u10FA\\\\u10FC-\\\\u1248\\\\u124A-\\\\u124D\\\\u1250-\\\\u1256\\\\u1258\\\\u125A-\\\\u125D\\\\u1260-\\\\u1288\\\\u128A-\\\\u128D\\\\u1290-\\\\u12B0\\\\u12B2-\\\\u12B5\\\\u12B8-\\\\u12BE\\\\u12C0\\\\u12C2-\\\\u12C5\\\\u12C8-\\\\u12D6\\\\u12D8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135A\\\\u135D-\\\\u135F\\\\u1380-\\\\u138F\\\\u13A0-\\\\u13F4\\\\u1401-\\\\u166C\\\\u166F-\\\\u167F\\\\u1681-\\\\u169A\\\\u16A0-\\\\u16EA\\\\u16EE-\\\\u16F8\\\\u1700-\\\\u170C\\\\u170E-\\\\u1714\\\\u1720-\\\\u1734\\\\u1740-\\\\u1753\\\\u1760-\\\\u176C\\\\u176E-\\\\u1770\\\\u1772\\\\u1773\\\\u1780-\\\\u17D3\\\\u17D7\\\\u17DC\\\\u17DD\\\\u17E0-\\\\u17E9\\\\u180B-\\\\u180D\\\\u1810-\\\\u1819\\\\u1820-\\\\u1877\\\\u1880-\\\\u18AA\\\\u18B0-\\\\u18F5\\\\u1900-\\\\u191E\\\\u1920-\\\\u192B\\\\u1930-\\\\u193B\\\\u1946-\\\\u196D\\\\u1970-\\\\u1974\\\\u1980-\\\\u19AB\\\\u19B0-\\\\u19C9\\\\u19D0-\\\\u19D9\\\\u1A00-\\\\u1A1B\\\\u1A20-\\\\u1A5E\\\\u1A60-\\\\u1A7C\\\\u1A7F-\\\\u1A89\\\\u1A90-\\\\u1A99\\\\u1AA7\\\\u1AB0-\\\\u1ABD\\\\u1B00-\\\\u1B4B\\\\u1B50-\\\\u1B59\\\\u1B6B-\\\\u1B73\\\\u1B80-\\\\u1BF3\\\\u1C00-\\\\u1C37\\\\u1C40-\\\\u1C49\\\\u1C4D-\\\\u1C7D\\\\u1CD0-\\\\u1CD2\\\\u1CD4-\\\\u1CF6\\\\u1CF8\\\\u1CF9\\\\u1D00-\\\\u1DF5\\\\u1DFC-\\\\u1F15\\\\u1F18-\\\\u1F1D\\\\u1F20-\\\\u1F45\\\\u1F48-\\\\u1F4D\\\\u1F50-\\\\u1F57\\\\u1F59\\\\u1F5B\\\\u1F5D\\\\u1F5F-\\\\u1F7D\\\\u1F80-\\\\u1FB4\\\\u1FB6-\\\\u1FBC\\\\u1FBE\\\\u1FC2-\\\\u1FC4\\\\u1FC6-\\\\u1FCC\\\\u1FD0-\\\\u1FD3\\\\u1FD6-\\\\u1FDB\\\\u1FE0-\\\\u1FEC\\\\u1FF2-\\\\u1FF4\\\\u1FF6-\\\\u1FFC\\\\u200C\\\\u200D\\\\u203F\\\\u2040\\\\u2054\\\\u2071\\\\u207F\\\\u2090-\\\\u209C\\\\u20D0-\\\\u20DC\\\\u20E1\\\\u20E5-\\\\u20F0\\\\u2102\\\\u2107\\\\u210A-\\\\u2113\\\\u2115\\\\u2119-\\\\u211D\\\\u2124\\\\u2126\\\\u2128\\\\u212A-\\\\u212D\\\\u212F-\\\\u2139\\\\u213C-\\\\u213F\\\\u2145-\\\\u2149\\\\u214E\\\\u2160-\\\\u2188\\\\u2C00-\\\\u2C2E\\\\u2C30-\\\\u2C5E\\\\u2C60-\\\\u2CE4\\\\u2CEB-\\\\u2CF3\\\\u2D00-\\\\u2D25\\\\u2D27\\\\u2D2D\\\\u2D30-\\\\u2D67\\\\u2D6F\\\\u2D7F-\\\\u2D96\\\\u2DA0-\\\\u2DA6\\\\u2DA8-\\\\u2DAE\\\\u2DB0-\\\\u2DB6\\\\u2DB8-\\\\u2DBE\\\\u2DC0-\\\\u2DC6\\\\u2DC8-\\\\u2DCE\\\\u2DD0-\\\\u2DD6\\\\u2DD8-\\\\u2DDE\\\\u2DE0-\\\\u2DFF\\\\u2E2F\\\\u3005-\\\\u3007\\\\u3021-\\\\u302F\\\\u3031-\\\\u3035\\\\u3038-\\\\u303C\\\\u3041-\\\\u3096\\\\u3099\\\\u309A\\\\u309D-\\\\u309F\\\\u30A1-\\\\u30FA\\\\u30FC-\\\\u30FF\\\\u3105-\\\\u312D\\\\u3131-\\\\u318E\\\\u31A0-\\\\u31BA\\\\u31F0-\\\\u31FF\\\\u3400-\\\\u4DB5\\\\u4E00-\\\\u9FCC\\\\uA000-\\\\uA48C\\\\uA4D0-\\\\uA4FD\\\\uA500-\\\\uA60C\\\\uA610-\\\\uA62B\\\\uA640-\\\\uA66F\\\\uA674-\\\\uA67D\\\\uA67F-\\\\uA69D\\\\uA69F-\\\\uA6F1\\\\uA717-\\\\uA71F\\\\uA722-\\\\uA788\\\\uA78B-\\\\uA78E\\\\uA790-\\\\uA7AD\\\\uA7B0\\\\uA7B1\\\\uA7F7-\\\\uA827\\\\uA840-\\\\uA873\\\\uA880-\\\\uA8C4\\\\uA8D0-\\\\uA8D9\\\\uA8E0-\\\\uA8F7\\\\uA8FB\\\\uA900-\\\\uA92D\\\\uA930-\\\\uA953\\\\uA960-\\\\uA97C\\\\uA980-\\\\uA9C0\\\\uA9CF-\\\\uA9D9\\\\uA9E0-\\\\uA9FE\\\\uAA00-\\\\uAA36\\\\uAA40-\\\\uAA4D\\\\uAA50-\\\\uAA59\\\\uAA60-\\\\uAA76\\\\uAA7A-\\\\uAAC2\\\\uAADB-\\\\uAADD\\\\uAAE0-\\\\uAAEF\\\\uAAF2-\\\\uAAF6\\\\uAB01-\\\\uAB06\\\\uAB09-\\\\uAB0E\\\\uAB11-\\\\uAB16\\\\uAB20-\\\\uAB26\\\\uAB28-\\\\uAB2E\\\\uAB30-\\\\uAB5A\\\\uAB5C-\\\\uAB5F\\\\uAB64\\\\uAB65\\\\uABC0-\\\\uABEA\\\\uABEC\\\\uABED\\\\uABF0-\\\\uABF9\\\\uAC00-\\\\uD7A3\\\\uD7B0-\\\\uD7C6\\\\uD7CB-\\\\uD7FB\\\\uF900-\\\\uFA6D\\\\uFA70-\\\\uFAD9\\\\uFB00-\\\\uFB06\\\\uFB13-\\\\uFB17\\\\uFB1D-\\\\uFB28\\\\uFB2A-\\\\uFB36\\\\uFB38-\\\\uFB3C\\\\uFB3E\\\\uFB40\\\\uFB41\\\\uFB43\\\\uFB44\\\\uFB46-\\\\uFBB1\\\\uFBD3-\\\\uFD3D\\\\uFD50-\\\\uFD8F\\\\uFD92-\\\\uFDC7\\\\uFDF0-\\\\uFDFB\\\\uFE00-\\\\uFE0F\\\\uFE20-\\\\uFE2D\\\\uFE33\\\\uFE34\\\\uFE4D-\\\\uFE4F\\\\uFE70-\\\\uFE74\\\\uFE76-\\\\uFEFC\\\\uFF10-\\\\uFF19\\\\uFF21-\\\\uFF3A\\\\uFF3F\\\\uFF41-\\\\uFF5A\\\\uFF66-\\\\uFFBE\\\\uFFC2-\\\\uFFC7\\\\uFFCA-\\\\uFFCF\\\\uFFD2-\\\\uFFD7\\\\uFFDA-\\\\uFFDC]');\n\n// Ensure the condition is true, otherwise throw an error.\n// This is only to have a better contract semantic, i.e. another safety net\n// to catch a logic error. The condition shall be fulfilled in normal case.\n// Do NOT use this to enforce a certain condition on any user input.\n\nfunction assert(condition, message) {\n  /* istanbul ignore next */\n  if (!condition) {\n    throw new Error('ASSERT: ' + message);\n  }\n}\n\nfunction isDecimalDigit(ch) {\n  return (ch >= 0x30 && ch <= 0x39); // 0..9\n}\n\nfunction isHexDigit(ch) {\n  return '0123456789abcdefABCDEF'.indexOf(ch) >= 0;\n}\n\nfunction isOctalDigit(ch) {\n  return '01234567'.indexOf(ch) >= 0;\n}\n\n// 7.2 White Space\n\nfunction isWhiteSpace(ch) {\n  return (ch === 0x20) || (ch === 0x09) || (ch === 0x0B) || (ch === 0x0C) || (ch === 0xA0) ||\n    (ch >= 0x1680 && [0x1680, 0x180E, 0x2000, 0x2001, 0x2002, 0x2003, 0x2004, 0x2005, 0x2006, 0x2007, 0x2008, 0x2009, 0x200A, 0x202F, 0x205F, 0x3000, 0xFEFF].indexOf(ch) >= 0);\n}\n\n// 7.3 Line Terminators\n\nfunction isLineTerminator(ch) {\n  return (ch === 0x0A) || (ch === 0x0D) || (ch === 0x2028) || (ch === 0x2029);\n}\n\n// 7.6 Identifier Names and Identifiers\n\nfunction isIdentifierStart(ch) {\n  return (ch === 0x24) || (ch === 0x5F) || // $ (dollar) and _ (underscore)\n    (ch >= 0x41 && ch <= 0x5A) || // A..Z\n    (ch >= 0x61 && ch <= 0x7A) || // a..z\n    (ch === 0x5C) || // \\ (backslash)\n    ((ch >= 0x80) && RegexNonAsciiIdentifierStart.test(String.fromCharCode(ch)));\n}\n\nfunction isIdentifierPart(ch) {\n  return (ch === 0x24) || (ch === 0x5F) || // $ (dollar) and _ (underscore)\n    (ch >= 0x41 && ch <= 0x5A) || // A..Z\n    (ch >= 0x61 && ch <= 0x7A) || // a..z\n    (ch >= 0x30 && ch <= 0x39) || // 0..9\n    (ch === 0x5C) || // \\ (backslash)\n    ((ch >= 0x80) && RegexNonAsciiIdentifierPart.test(String.fromCharCode(ch)));\n}\n\n// 7.6.1.1 Keywords\n\nconst keywords = {\n  'if':1, 'in':1, 'do':1,\n  'var':1, 'for':1, 'new':1, 'try':1, 'let':1,\n  'this':1, 'else':1, 'case':1, 'void':1, 'with':1, 'enum':1,\n  'while':1, 'break':1, 'catch':1, 'throw':1, 'const':1, 'yield':1, 'class':1, 'super':1,\n  'return':1, 'typeof':1, 'delete':1, 'switch':1, 'export':1, 'import':1, 'public':1, 'static':1,\n  'default':1, 'finally':1, 'extends':1, 'package':1, 'private':1,\n  'function':1, 'continue':1, 'debugger':1,\n  'interface':1, 'protected':1,\n  'instanceof':1, 'implements':1\n};\n\nfunction skipComment() {\n  while (index < length) {\n    const ch = source.charCodeAt(index);\n\n    if (isWhiteSpace(ch) || isLineTerminator(ch)) {\n      ++index;\n    } else {\n      break;\n    }\n  }\n}\n\nfunction scanHexEscape(prefix) {\n  var i, len, ch, code = 0;\n\n  len = (prefix === 'u') ? 4 : 2;\n  for (i = 0; i < len; ++i) {\n    if (index < length && isHexDigit(source[index])) {\n      ch = source[index++];\n      code = code * 16 + '0123456789abcdef'.indexOf(ch.toLowerCase());\n    } else {\n      throwError({}, MessageUnexpectedToken, ILLEGAL);\n    }\n  }\n  return String.fromCharCode(code);\n}\n\nfunction scanUnicodeCodePointEscape() {\n  var ch, code, cu1, cu2;\n\n  ch = source[index];\n  code = 0;\n\n  // At least, one hex digit is required.\n  if (ch === '}') {\n    throwError({}, MessageUnexpectedToken, ILLEGAL);\n  }\n\n  while (index < length) {\n    ch = source[index++];\n    if (!isHexDigit(ch)) {\n      break;\n    }\n    code = code * 16 + '0123456789abcdef'.indexOf(ch.toLowerCase());\n  }\n\n  if (code > 0x10FFFF || ch !== '}') {\n    throwError({}, MessageUnexpectedToken, ILLEGAL);\n  }\n\n  // UTF-16 Encoding\n  if (code <= 0xFFFF) {\n    return String.fromCharCode(code);\n  }\n  cu1 = ((code - 0x10000) >> 10) + 0xD800;\n  cu2 = ((code - 0x10000) & 1023) + 0xDC00;\n  return String.fromCharCode(cu1, cu2);\n}\n\nfunction getEscapedIdentifier() {\n  var ch, id;\n\n  ch = source.charCodeAt(index++);\n  id = String.fromCharCode(ch);\n\n  // '\\u' (U+005C, U+0075) denotes an escaped character.\n  if (ch === 0x5C) {\n    if (source.charCodeAt(index) !== 0x75) {\n      throwError({}, MessageUnexpectedToken, ILLEGAL);\n    }\n    ++index;\n    ch = scanHexEscape('u');\n    if (!ch || ch === '\\\\' || !isIdentifierStart(ch.charCodeAt(0))) {\n      throwError({}, MessageUnexpectedToken, ILLEGAL);\n    }\n    id = ch;\n  }\n\n  while (index < length) {\n    ch = source.charCodeAt(index);\n    if (!isIdentifierPart(ch)) {\n      break;\n    }\n    ++index;\n    id += String.fromCharCode(ch);\n\n    // '\\u' (U+005C, U+0075) denotes an escaped character.\n    if (ch === 0x5C) {\n      id = id.substr(0, id.length - 1);\n      if (source.charCodeAt(index) !== 0x75) {\n        throwError({}, MessageUnexpectedToken, ILLEGAL);\n      }\n      ++index;\n      ch = scanHexEscape('u');\n      if (!ch || ch === '\\\\' || !isIdentifierPart(ch.charCodeAt(0))) {\n        throwError({}, MessageUnexpectedToken, ILLEGAL);\n      }\n      id += ch;\n    }\n  }\n\n  return id;\n}\n\nfunction getIdentifier() {\n  var start, ch;\n\n  start = index++;\n  while (index < length) {\n    ch = source.charCodeAt(index);\n    if (ch === 0x5C) {\n      // Blackslash (U+005C) marks Unicode escape sequence.\n      index = start;\n      return getEscapedIdentifier();\n    }\n    if (isIdentifierPart(ch)) {\n      ++index;\n    } else {\n      break;\n    }\n  }\n\n  return source.slice(start, index);\n}\n\nfunction scanIdentifier() {\n  var start, id, type;\n\n  start = index;\n\n  // Backslash (U+005C) starts an escaped character.\n  id = (source.charCodeAt(index) === 0x5C) ? getEscapedIdentifier() : getIdentifier();\n\n  // There is no keyword or literal with only one character.\n  // Thus, it must be an identifier.\n  if (id.length === 1) {\n    type = TokenIdentifier;\n  } else if (keywords.hasOwnProperty(id)) { // eslint-disable-line no-prototype-builtins\n    type = TokenKeyword;\n  } else if (id === 'null') {\n    type = TokenNullLiteral;\n  } else if (id === 'true' || id === 'false') {\n    type = TokenBooleanLiteral;\n  } else {\n    type = TokenIdentifier;\n  }\n\n  return {\n    type: type,\n    value: id,\n    start: start,\n    end: index\n  };\n}\n\n// 7.7 Punctuators\n\nfunction scanPunctuator() {\n  var start = index,\n    code = source.charCodeAt(index),\n    code2,\n    ch1 = source[index],\n    ch2,\n    ch3,\n    ch4;\n\n  switch (code) {\n\n    // Check for most common single-character punctuators.\n    case 0x2E: // . dot\n    case 0x28: // ( open bracket\n    case 0x29: // ) close bracket\n    case 0x3B: // ; semicolon\n    case 0x2C: // , comma\n    case 0x7B: // { open curly brace\n    case 0x7D: // } close curly brace\n    case 0x5B: // [\n    case 0x5D: // ]\n    case 0x3A: // :\n    case 0x3F: // ?\n    case 0x7E: // ~\n      ++index;\n      return {\n        type: TokenPunctuator,\n        value: String.fromCharCode(code),\n        start: start,\n        end: index\n      };\n\n    default:\n      code2 = source.charCodeAt(index + 1);\n\n      // '=' (U+003D) marks an assignment or comparison operator.\n      if (code2 === 0x3D) {\n        switch (code) {\n          case 0x2B: // +\n          case 0x2D: // -\n          case 0x2F: // /\n          case 0x3C: // <\n          case 0x3E: // >\n          case 0x5E: // ^\n          case 0x7C: // |\n          case 0x25: // %\n          case 0x26: // &\n          case 0x2A: // *\n            index += 2;\n            return {\n              type: TokenPunctuator,\n              value: String.fromCharCode(code) + String.fromCharCode(code2),\n              start: start,\n              end: index\n            };\n\n          case 0x21: // !\n          case 0x3D: // =\n            index += 2;\n\n            // !== and ===\n            if (source.charCodeAt(index) === 0x3D) {\n              ++index;\n            }\n            return {\n              type: TokenPunctuator,\n              value: source.slice(start, index),\n              start: start,\n              end: index\n            };\n        }\n      }\n  }\n\n  // 4-character punctuator: >>>=\n\n  ch4 = source.substr(index, 4);\n\n  if (ch4 === '>>>=') {\n    index += 4;\n    return {\n      type: TokenPunctuator,\n      value: ch4,\n      start: start,\n      end: index\n    };\n  }\n\n  // 3-character punctuators: === !== >>> <<= >>=\n\n  ch3 = ch4.substr(0, 3);\n\n  if (ch3 === '>>>' || ch3 === '<<=' || ch3 === '>>=') {\n    index += 3;\n    return {\n      type: TokenPunctuator,\n      value: ch3,\n      start: start,\n      end: index\n    };\n  }\n\n  // Other 2-character punctuators: ++ -- << >> && ||\n  ch2 = ch3.substr(0, 2);\n\n  if ((ch1 === ch2[1] && ('+-<>&|'.indexOf(ch1) >= 0)) || ch2 === '=>') {\n    index += 2;\n    return {\n      type: TokenPunctuator,\n      value: ch2,\n      start: start,\n      end: index\n    };\n  }\n\n  if (ch2 === '//') {\n    throwError({}, MessageUnexpectedToken, ILLEGAL);\n  }\n\n  // 1-character punctuators: < > = ! + - * % & | ^ /\n\n  if ('<>=!+-*%&|^/'.indexOf(ch1) >= 0) {\n    ++index;\n    return {\n      type: TokenPunctuator,\n      value: ch1,\n      start: start,\n      end: index\n    };\n  }\n\n  throwError({}, MessageUnexpectedToken, ILLEGAL);\n}\n\n// 7.8.3 Numeric Literals\n\nfunction scanHexLiteral(start) {\n  let number = '';\n\n  while (index < length) {\n    if (!isHexDigit(source[index])) {\n      break;\n    }\n    number += source[index++];\n  }\n\n  if (number.length === 0) {\n    throwError({}, MessageUnexpectedToken, ILLEGAL);\n  }\n\n  if (isIdentifierStart(source.charCodeAt(index))) {\n    throwError({}, MessageUnexpectedToken, ILLEGAL);\n  }\n\n  return {\n    type: TokenNumericLiteral,\n    value: parseInt('0x' + number, 16),\n    start: start,\n    end: index\n  };\n}\n\nfunction scanOctalLiteral(start) {\n  let number = '0' + source[index++];\n  while (index < length) {\n    if (!isOctalDigit(source[index])) {\n      break;\n    }\n    number += source[index++];\n  }\n\n  if (isIdentifierStart(source.charCodeAt(index)) || isDecimalDigit(source.charCodeAt(index))) {\n    throwError({}, MessageUnexpectedToken, ILLEGAL);\n  }\n\n  return {\n    type: TokenNumericLiteral,\n    value: parseInt(number, 8),\n    octal: true,\n    start: start,\n    end: index\n  };\n}\n\nfunction scanNumericLiteral() {\n  var number, start, ch;\n\n  ch = source[index];\n  assert(isDecimalDigit(ch.charCodeAt(0)) || (ch === '.'),\n    'Numeric literal must start with a decimal digit or a decimal point');\n\n  start = index;\n  number = '';\n  if (ch !== '.') {\n    number = source[index++];\n    ch = source[index];\n\n    // Hex number starts with '0x'.\n    // Octal number starts with '0'.\n    if (number === '0') {\n      if (ch === 'x' || ch === 'X') {\n        ++index;\n        return scanHexLiteral(start);\n      }\n      if (isOctalDigit(ch)) {\n        return scanOctalLiteral(start);\n      }\n\n      // decimal number starts with '0' such as '09' is illegal.\n      if (ch && isDecimalDigit(ch.charCodeAt(0))) {\n        throwError({}, MessageUnexpectedToken, ILLEGAL);\n      }\n    }\n\n    while (isDecimalDigit(source.charCodeAt(index))) {\n      number += source[index++];\n    }\n    ch = source[index];\n  }\n\n  if (ch === '.') {\n    number += source[index++];\n    while (isDecimalDigit(source.charCodeAt(index))) {\n      number += source[index++];\n    }\n    ch = source[index];\n  }\n\n  if (ch === 'e' || ch === 'E') {\n    number += source[index++];\n\n    ch = source[index];\n    if (ch === '+' || ch === '-') {\n      number += source[index++];\n    }\n    if (isDecimalDigit(source.charCodeAt(index))) {\n      while (isDecimalDigit(source.charCodeAt(index))) {\n        number += source[index++];\n      }\n    } else {\n      throwError({}, MessageUnexpectedToken, ILLEGAL);\n    }\n  }\n\n  if (isIdentifierStart(source.charCodeAt(index))) {\n    throwError({}, MessageUnexpectedToken, ILLEGAL);\n  }\n\n  return {\n    type: TokenNumericLiteral,\n    value: parseFloat(number),\n    start: start,\n    end: index\n  };\n}\n\n// 7.8.4 String Literals\n\nfunction scanStringLiteral() {\n  var str = '',\n    quote, start, ch, code, octal = false;\n\n  quote = source[index];\n  assert((quote === '\\'' || quote === '\"'),\n    'String literal must starts with a quote');\n\n  start = index;\n  ++index;\n\n  while (index < length) {\n    ch = source[index++];\n\n    if (ch === quote) {\n      quote = '';\n      break;\n    } else if (ch === '\\\\') {\n      ch = source[index++];\n      if (!ch || !isLineTerminator(ch.charCodeAt(0))) {\n        switch (ch) {\n          case 'u':\n          case 'x':\n            if (source[index] === '{') {\n              ++index;\n              str += scanUnicodeCodePointEscape();\n            } else {\n              str += scanHexEscape(ch);\n            }\n            break;\n          case 'n':\n            str += '\\n';\n            break;\n          case 'r':\n            str += '\\r';\n            break;\n          case 't':\n            str += '\\t';\n            break;\n          case 'b':\n            str += '\\b';\n            break;\n          case 'f':\n            str += '\\f';\n            break;\n          case 'v':\n            str += '\\x0B';\n            break;\n\n          default:\n            if (isOctalDigit(ch)) {\n              code = '01234567'.indexOf(ch);\n\n              // \\0 is not octal escape sequence\n              if (code !== 0) {\n                octal = true;\n              }\n\n              if (index < length && isOctalDigit(source[index])) {\n                octal = true;\n                code = code * 8 + '01234567'.indexOf(source[index++]);\n\n                // 3 digits are only allowed when string starts\n                // with 0, 1, 2, 3\n                if ('0123'.indexOf(ch) >= 0 &&\n                  index < length &&\n                  isOctalDigit(source[index])) {\n                  code = code * 8 + '01234567'.indexOf(source[index++]);\n                }\n              }\n              str += String.fromCharCode(code);\n            } else {\n              str += ch;\n            }\n            break;\n        }\n      } else {\n        if (ch === '\\r' && source[index] === '\\n') {\n          ++index;\n        }\n      }\n    } else if (isLineTerminator(ch.charCodeAt(0))) {\n      break;\n    } else {\n      str += ch;\n    }\n  }\n\n  if (quote !== '') {\n    throwError({}, MessageUnexpectedToken, ILLEGAL);\n  }\n\n  return {\n    type: TokenStringLiteral,\n    value: str,\n    octal: octal,\n    start: start,\n    end: index\n  };\n}\n\nfunction testRegExp(pattern, flags) {\n  let tmp = pattern;\n\n  if (flags.indexOf('u') >= 0) {\n    // Replace each astral symbol and every Unicode code point\n    // escape sequence with a single ASCII symbol to avoid throwing on\n    // regular expressions that are only valid in combination with the\n    // `/u` flag.\n    // Note: replacing with the ASCII symbol `x` might cause false\n    // negatives in unlikely scenarios. For example, `[\\u{61}-b]` is a\n    // perfectly valid pattern that is equivalent to `[a-b]`, but it\n    // would be replaced by `[x-b]` which throws an error.\n    tmp = tmp\n      .replace(/\\\\u\\{([0-9a-fA-F]+)\\}/g, ($0, $1) => {\n        if (parseInt($1, 16) <= 0x10FFFF) {\n          return 'x';\n        }\n        throwError({}, MessageInvalidRegExp);\n      })\n      .replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g, 'x');\n  }\n\n  // First, detect invalid regular expressions.\n  try {\n    new RegExp(tmp);\n  } catch (e) {\n    throwError({}, MessageInvalidRegExp);\n  }\n\n  // Return a regular expression object for this pattern-flag pair, or\n  // `null` in case the current environment doesn't support the flags it\n  // uses.\n  try {\n    return new RegExp(pattern, flags);\n  } catch (exception) {\n    return null;\n  }\n}\n\nfunction scanRegExpBody() {\n  var ch, str, classMarker, terminated, body;\n\n  ch = source[index];\n  assert(ch === '/', 'Regular expression literal must start with a slash');\n  str = source[index++];\n\n  classMarker = false;\n  terminated = false;\n  while (index < length) {\n    ch = source[index++];\n    str += ch;\n    if (ch === '\\\\') {\n      ch = source[index++];\n      // ECMA-262 7.8.5\n      if (isLineTerminator(ch.charCodeAt(0))) {\n        throwError({}, MessageUnterminatedRegExp);\n      }\n      str += ch;\n    } else if (isLineTerminator(ch.charCodeAt(0))) {\n      throwError({}, MessageUnterminatedRegExp);\n    } else if (classMarker) {\n      if (ch === ']') {\n        classMarker = false;\n      }\n    } else {\n      if (ch === '/') {\n        terminated = true;\n        break;\n      } else if (ch === '[') {\n        classMarker = true;\n      }\n    }\n  }\n\n  if (!terminated) {\n    throwError({}, MessageUnterminatedRegExp);\n  }\n\n  // Exclude leading and trailing slash.\n  body = str.substr(1, str.length - 2);\n  return {\n    value: body,\n    literal: str\n  };\n}\n\nfunction scanRegExpFlags() {\n  var ch, str, flags;\n\n  str = '';\n  flags = '';\n  while (index < length) {\n    ch = source[index];\n    if (!isIdentifierPart(ch.charCodeAt(0))) {\n      break;\n    }\n\n    ++index;\n    if (ch === '\\\\' && index < length) {\n      throwError({}, MessageUnexpectedToken, ILLEGAL);\n    } else {\n      flags += ch;\n      str += ch;\n    }\n  }\n\n  if (flags.search(/[^gimuy]/g) >= 0) {\n    throwError({}, MessageInvalidRegExp, flags);\n  }\n\n  return {\n    value: flags,\n    literal: str\n  };\n}\n\nfunction scanRegExp() {\n  var start, body, flags, value;\n\n  lookahead = null;\n  skipComment();\n  start = index;\n\n  body = scanRegExpBody();\n  flags = scanRegExpFlags();\n  value = testRegExp(body.value, flags.value);\n\n  return {\n    literal: body.literal + flags.literal,\n    value: value,\n    regex: {\n      pattern: body.value,\n      flags: flags.value\n    },\n    start: start,\n    end: index\n  };\n}\n\nfunction isIdentifierName(token) {\n  return token.type === TokenIdentifier ||\n    token.type === TokenKeyword ||\n    token.type === TokenBooleanLiteral ||\n    token.type === TokenNullLiteral;\n}\n\nfunction advance() {\n  skipComment();\n\n  if (index >= length) {\n    return {\n      type: TokenEOF,\n      start: index,\n      end: index\n    };\n  }\n\n  const ch = source.charCodeAt(index);\n\n  if (isIdentifierStart(ch)) {\n    return scanIdentifier();\n  }\n\n  // Very common: ( and ) and ;\n  if (ch === 0x28 || ch === 0x29 || ch === 0x3B) {\n    return scanPunctuator();\n  }\n\n  // String literal starts with single quote (U+0027) or double quote (U+0022).\n  if (ch === 0x27 || ch === 0x22) {\n    return scanStringLiteral();\n  }\n\n\n  // Dot (.) U+002E can also start a floating-point number, hence the need\n  // to check the next character.\n  if (ch === 0x2E) {\n    if (isDecimalDigit(source.charCodeAt(index + 1))) {\n      return scanNumericLiteral();\n    }\n    return scanPunctuator();\n  }\n\n  if (isDecimalDigit(ch)) {\n    return scanNumericLiteral();\n  }\n\n  return scanPunctuator();\n}\n\nfunction lex() {\n  const token = lookahead;\n  index = token.end;\n\n  lookahead = advance();\n\n  index = token.end;\n\n  return token;\n}\n\nfunction peek() {\n  const pos = index;\n\n  lookahead = advance();\n  index = pos;\n}\n\nfunction finishArrayExpression(elements) {\n  const node = new ASTNode(SyntaxArrayExpression);\n  node.elements = elements;\n  return node;\n}\n\nfunction finishBinaryExpression(operator, left, right) {\n  const node = new ASTNode((operator === '||' || operator === '&&') ? SyntaxLogicalExpression : SyntaxBinaryExpression);\n  node.operator = operator;\n  node.left = left;\n  node.right = right;\n  return node;\n}\n\nfunction finishCallExpression(callee, args) {\n  const node = new ASTNode(SyntaxCallExpression);\n  node.callee = callee;\n  node.arguments = args;\n  return node;\n}\n\nfunction finishConditionalExpression(test, consequent, alternate) {\n  const node = new ASTNode(SyntaxConditionalExpression);\n  node.test = test;\n  node.consequent = consequent;\n  node.alternate = alternate;\n  return node;\n}\n\nfunction finishIdentifier(name) {\n  const node = new ASTNode(SyntaxIdentifier);\n  node.name = name;\n  return node;\n}\n\nfunction finishLiteral(token) {\n  const node = new ASTNode(SyntaxLiteral);\n  node.value = token.value;\n  node.raw = source.slice(token.start, token.end);\n  if (token.regex) {\n    if (node.raw === '//') {\n      node.raw = '/(?:)/';\n    }\n    node.regex = token.regex;\n  }\n  return node;\n}\n\nfunction finishMemberExpression(accessor, object, property) {\n  const node = new ASTNode(SyntaxMemberExpression);\n  node.computed = accessor === '[';\n  node.object = object;\n  node.property = property;\n  if (!node.computed) property.member = true;\n  return node;\n}\n\nfunction finishObjectExpression(properties) {\n  const node = new ASTNode(SyntaxObjectExpression);\n  node.properties = properties;\n  return node;\n}\n\nfunction finishProperty(kind, key, value) {\n  const node = new ASTNode(SyntaxProperty);\n  node.key = key;\n  node.value = value;\n  node.kind = kind;\n  return node;\n}\n\nfunction finishUnaryExpression(operator, argument) {\n  const node = new ASTNode(SyntaxUnaryExpression);\n  node.operator = operator;\n  node.argument = argument;\n  node.prefix = true;\n  return node;\n}\n\n// Throw an exception\n\nfunction throwError(token, messageFormat) {\n  var error,\n    args = Array.prototype.slice.call(arguments, 2),\n    msg = messageFormat.replace(\n      /%(\\d)/g,\n      (whole, index) => {\n        assert(index < args.length, 'Message reference must be in range');\n        return args[index];\n      }\n    );\n\n\n  error = new Error(msg);\n  error.index = index;\n  error.description = msg;\n  throw error;\n}\n\n// Throw an exception because of the token.\n\nfunction throwUnexpected(token) {\n  if (token.type === TokenEOF) {\n    throwError(token, MessageUnexpectedEOS);\n  }\n\n  if (token.type === TokenNumericLiteral) {\n    throwError(token, MessageUnexpectedNumber);\n  }\n\n  if (token.type === TokenStringLiteral) {\n    throwError(token, MessageUnexpectedString);\n  }\n\n  if (token.type === TokenIdentifier) {\n    throwError(token, MessageUnexpectedIdentifier);\n  }\n\n  if (token.type === TokenKeyword) {\n    throwError(token, MessageUnexpectedReserved);\n  }\n\n  // BooleanLiteral, NullLiteral, or Punctuator.\n  throwError(token, MessageUnexpectedToken, token.value);\n}\n\n// Expect the next token to match the specified punctuator.\n// If not, an exception will be thrown.\n\nfunction expect(value) {\n  const token = lex();\n  if (token.type !== TokenPunctuator || token.value !== value) {\n    throwUnexpected(token);\n  }\n}\n\n// Return true if the next token matches the specified punctuator.\n\nfunction match(value) {\n  return lookahead.type === TokenPunctuator && lookahead.value === value;\n}\n\n// Return true if the next token matches the specified keyword\n\nfunction matchKeyword(keyword) {\n  return lookahead.type === TokenKeyword && lookahead.value === keyword;\n}\n\n// 11.1.4 Array Initialiser\n\nfunction parseArrayInitialiser() {\n  const elements = [];\n\n  index = lookahead.start;\n  expect('[');\n\n  while (!match(']')) {\n    if (match(',')) {\n      lex();\n      elements.push(null);\n    } else {\n      elements.push(parseConditionalExpression());\n\n      if (!match(']')) {\n        expect(',');\n      }\n    }\n  }\n\n  lex();\n\n  return finishArrayExpression(elements);\n}\n\n// 11.1.5 Object Initialiser\n\nfunction parseObjectPropertyKey() {\n  index = lookahead.start;\n  const token = lex();\n\n  // Note: This function is called only from parseObjectProperty(), where\n  // EOF and Punctuator tokens are already filtered out.\n\n  if (token.type === TokenStringLiteral || token.type === TokenNumericLiteral) {\n    if (token.octal) {\n      throwError(token, MessageStrictOctalLiteral);\n    }\n    return finishLiteral(token);\n  }\n\n  return finishIdentifier(token.value);\n}\n\nfunction parseObjectProperty() {\n  var token, key, id, value;\n\n  index = lookahead.start;\n  token = lookahead;\n\n  if (token.type === TokenIdentifier) {\n    id = parseObjectPropertyKey();\n    expect(':');\n    value = parseConditionalExpression();\n    return finishProperty('init', id, value);\n  }\n  if (token.type === TokenEOF || token.type === TokenPunctuator) {\n    throwUnexpected(token);\n  } else {\n    key = parseObjectPropertyKey();\n    expect(':');\n    value = parseConditionalExpression();\n    return finishProperty('init', key, value);\n  }\n}\n\nfunction parseObjectInitialiser() {\n  var properties = [],\n    property, name, key, map = {},\n    toString = String;\n\n  index = lookahead.start;\n  expect('{');\n\n  while (!match('}')) {\n    property = parseObjectProperty();\n\n    if (property.key.type === SyntaxIdentifier) {\n      name = property.key.name;\n    } else {\n      name = toString(property.key.value);\n    }\n\n    key = '$' + name;\n    if (Object.prototype.hasOwnProperty.call(map, key)) {\n      throwError({}, MessageStrictDuplicateProperty);\n    } else {\n      map[key] = true;\n    }\n\n    properties.push(property);\n\n    if (!match('}')) {\n      expect(',');\n    }\n  }\n\n  expect('}');\n\n  return finishObjectExpression(properties);\n}\n\n// 11.1.6 The Grouping Operator\n\nfunction parseGroupExpression() {\n  expect('(');\n\n  const expr = parseExpression();\n\n  expect(')');\n\n  return expr;\n}\n\n\n// 11.1 Primary Expressions\n\nconst legalKeywords = {\n  'if': 1\n};\n\nfunction parsePrimaryExpression() {\n  var type, token, expr;\n\n  if (match('(')) {\n    return parseGroupExpression();\n  }\n\n  if (match('[')) {\n    return parseArrayInitialiser();\n  }\n\n  if (match('{')) {\n    return parseObjectInitialiser();\n  }\n\n  type = lookahead.type;\n  index = lookahead.start;\n\n\n  if (type === TokenIdentifier || legalKeywords[lookahead.value]) {\n    expr = finishIdentifier(lex().value);\n  } else if (type === TokenStringLiteral || type === TokenNumericLiteral) {\n    if (lookahead.octal) {\n      throwError(lookahead, MessageStrictOctalLiteral);\n    }\n    expr = finishLiteral(lex());\n  } else if (type === TokenKeyword) {\n    throw new Error(DISABLED);\n  } else if (type === TokenBooleanLiteral) {\n    token = lex();\n    token.value = (token.value === 'true');\n    expr = finishLiteral(token);\n  } else if (type === TokenNullLiteral) {\n    token = lex();\n    token.value = null;\n    expr = finishLiteral(token);\n  } else if (match('/') || match('/=')) {\n    expr = finishLiteral(scanRegExp());\n    peek();\n  } else {\n    throwUnexpected(lex());\n  }\n\n  return expr;\n}\n\n// 11.2 Left-Hand-Side Expressions\n\nfunction parseArguments() {\n  const args = [];\n\n  expect('(');\n\n  if (!match(')')) {\n    while (index < length) {\n      args.push(parseConditionalExpression());\n      if (match(')')) {\n        break;\n      }\n      expect(',');\n    }\n  }\n\n  expect(')');\n\n  return args;\n}\n\nfunction parseNonComputedProperty() {\n  index = lookahead.start;\n  const token = lex();\n\n  if (!isIdentifierName(token)) {\n    throwUnexpected(token);\n  }\n\n  return finishIdentifier(token.value);\n}\n\nfunction parseNonComputedMember() {\n  expect('.');\n\n  return parseNonComputedProperty();\n}\n\nfunction parseComputedMember() {\n  expect('[');\n\n  const expr = parseExpression();\n\n  expect(']');\n\n  return expr;\n}\n\nfunction parseLeftHandSideExpressionAllowCall() {\n  var expr, args, property;\n\n  expr = parsePrimaryExpression();\n\n  for (;;) {\n    if (match('.')) {\n      property = parseNonComputedMember();\n      expr = finishMemberExpression('.', expr, property);\n    } else if (match('(')) {\n      args = parseArguments();\n      expr = finishCallExpression(expr, args);\n    } else if (match('[')) {\n      property = parseComputedMember();\n      expr = finishMemberExpression('[', expr, property);\n    } else {\n      break;\n    }\n  }\n\n  return expr;\n}\n\n// 11.3 Postfix Expressions\n\nfunction parsePostfixExpression() {\n  const expr = parseLeftHandSideExpressionAllowCall();\n\n  if (lookahead.type === TokenPunctuator) {\n    if ((match('++') || match('--'))) {\n      throw new Error(DISABLED);\n    }\n  }\n\n  return expr;\n}\n\n// 11.4 Unary Operators\n\nfunction parseUnaryExpression() {\n  var token, expr;\n\n  if (lookahead.type !== TokenPunctuator && lookahead.type !== TokenKeyword) {\n    expr = parsePostfixExpression();\n  } else if (match('++') || match('--')) {\n    throw new Error(DISABLED);\n  } else if (match('+') || match('-') || match('~') || match('!')) {\n    token = lex();\n    expr = parseUnaryExpression();\n    expr = finishUnaryExpression(token.value, expr);\n  } else if (matchKeyword('delete') || matchKeyword('void') || matchKeyword('typeof')) {\n    throw new Error(DISABLED);\n  } else {\n    expr = parsePostfixExpression();\n  }\n\n  return expr;\n}\n\nfunction binaryPrecedence(token) {\n  let prec = 0;\n\n  if (token.type !== TokenPunctuator && token.type !== TokenKeyword) {\n    return 0;\n  }\n\n  switch (token.value) {\n    case '||':\n      prec = 1;\n      break;\n\n    case '&&':\n      prec = 2;\n      break;\n\n    case '|':\n      prec = 3;\n      break;\n\n    case '^':\n      prec = 4;\n      break;\n\n    case '&':\n      prec = 5;\n      break;\n\n    case '==':\n    case '!=':\n    case '===':\n    case '!==':\n      prec = 6;\n      break;\n\n    case '<':\n    case '>':\n    case '<=':\n    case '>=':\n    case 'instanceof':\n    case 'in':\n      prec = 7;\n      break;\n\n    case '<<':\n    case '>>':\n    case '>>>':\n      prec = 8;\n      break;\n\n    case '+':\n    case '-':\n      prec = 9;\n      break;\n\n    case '*':\n    case '/':\n    case '%':\n      prec = 11;\n      break;\n\n    default:\n      break;\n  }\n\n  return prec;\n}\n\n// 11.5 Multiplicative Operators\n// 11.6 Additive Operators\n// 11.7 Bitwise Shift Operators\n// 11.8 Relational Operators\n// 11.9 Equality Operators\n// 11.10 Binary Bitwise Operators\n// 11.11 Binary Logical Operators\n\nfunction parseBinaryExpression() {\n  var marker, markers, expr, token, prec, stack, right, operator, left, i;\n\n  marker = lookahead;\n  left = parseUnaryExpression();\n\n  token = lookahead;\n  prec = binaryPrecedence(token);\n  if (prec === 0) {\n    return left;\n  }\n  token.prec = prec;\n  lex();\n\n  markers = [marker, lookahead];\n  right = parseUnaryExpression();\n\n  stack = [left, token, right];\n\n  while ((prec = binaryPrecedence(lookahead)) > 0) {\n\n    // Reduce: make a binary expression from the three topmost entries.\n    while ((stack.length > 2) && (prec <= stack[stack.length - 2].prec)) {\n      right = stack.pop();\n      operator = stack.pop().value;\n      left = stack.pop();\n      markers.pop();\n      expr = finishBinaryExpression(operator, left, right);\n      stack.push(expr);\n    }\n\n    // Shift.\n    token = lex();\n    token.prec = prec;\n    stack.push(token);\n    markers.push(lookahead);\n    expr = parseUnaryExpression();\n    stack.push(expr);\n  }\n\n  // Final reduce to clean-up the stack.\n  i = stack.length - 1;\n  expr = stack[i];\n  markers.pop();\n  while (i > 1) {\n    markers.pop();\n    expr = finishBinaryExpression(stack[i - 1].value, stack[i - 2], expr);\n    i -= 2;\n  }\n\n  return expr;\n}\n\n// 11.12 Conditional Operator\n\nfunction parseConditionalExpression() {\n  var expr, consequent, alternate;\n\n  expr = parseBinaryExpression();\n\n  if (match('?')) {\n    lex();\n    consequent = parseConditionalExpression();\n    expect(':');\n    alternate = parseConditionalExpression();\n\n    expr = finishConditionalExpression(expr, consequent, alternate);\n  }\n\n  return expr;\n}\n\n// 11.14 Comma Operator\n\nfunction parseExpression() {\n  const expr = parseConditionalExpression();\n\n  if (match(',')) {\n    throw new Error(DISABLED); // no sequence expressions\n  }\n\n  return expr;\n}\n\nexport default function(code) {\n  source = code;\n  index = 0;\n  length = source.length;\n  lookahead = null;\n\n  peek();\n\n  const expr = parseExpression();\n\n  if (lookahead.type !== TokenEOF) {\n    throw new Error('Unexpect token after expression.');\n  }\n  return expr;\n}\n","export default {\n  NaN:       'NaN',\n  E:         'Math.E',\n  LN2:       'Math.LN2',\n  LN10:      'Math.LN10',\n  LOG2E:     'Math.LOG2E',\n  LOG10E:    'Math.LOG10E',\n  PI:        'Math.PI',\n  SQRT1_2:   'Math.SQRT1_2',\n  SQRT2:     'Math.SQRT2',\n  MIN_VALUE: 'Number.MIN_VALUE',\n  MAX_VALUE: 'Number.MAX_VALUE'\n};\n","import {error} from 'vega-util';\n\nexport default function(codegen) {\n\n  function fncall(name, args, cast, type) {\n    let obj = codegen(args[0]);\n    if (cast) {\n      obj = cast + '(' + obj + ')';\n      if (cast.lastIndexOf('new ', 0) === 0) obj = '(' + obj + ')';\n    }\n    return obj + '.' + name + (type < 0 ? '' : type === 0 ?\n      '()' :\n      '(' + args.slice(1).map(codegen).join(',') + ')');\n  }\n\n  function fn(name, cast, type) {\n    return args => fncall(name, args, cast, type);\n  }\n\n  const DATE = 'new Date',\n        STRING = 'String',\n        REGEXP = 'RegExp';\n\n  return {\n    // MATH functions\n    isNaN:    'Number.isNaN',\n    isFinite: 'Number.isFinite',\n    abs:      'Math.abs',\n    acos:     'Math.acos',\n    asin:     'Math.asin',\n    atan:     'Math.atan',\n    atan2:    'Math.atan2',\n    ceil:     'Math.ceil',\n    cos:      'Math.cos',\n    exp:      'Math.exp',\n    floor:    'Math.floor',\n    log:      'Math.log',\n    max:      'Math.max',\n    min:      'Math.min',\n    pow:      'Math.pow',\n    random:   'Math.random',\n    round:    'Math.round',\n    sin:      'Math.sin',\n    sqrt:     'Math.sqrt',\n    tan:      'Math.tan',\n\n    clamp: function(args) {\n      if (args.length < 3) error('Missing arguments to clamp function.');\n      if (args.length > 3) error('Too many arguments to clamp function.');\n      const a = args.map(codegen);\n      return 'Math.max('+a[1]+', Math.min('+a[2]+','+a[0]+'))';\n    },\n\n    // DATE functions\n    now:             'Date.now',\n    utc:             'Date.UTC',\n    datetime:        DATE,\n    date:            fn('getDate', DATE, 0),\n    day:             fn('getDay', DATE, 0),\n    year:            fn('getFullYear', DATE, 0),\n    month:           fn('getMonth', DATE, 0),\n    hours:           fn('getHours', DATE, 0),\n    minutes:         fn('getMinutes', DATE, 0),\n    seconds:         fn('getSeconds', DATE, 0),\n    milliseconds:    fn('getMilliseconds', DATE, 0),\n    time:            fn('getTime', DATE, 0),\n    timezoneoffset:  fn('getTimezoneOffset', DATE, 0),\n    utcdate:         fn('getUTCDate', DATE, 0),\n    utcday:          fn('getUTCDay', DATE, 0),\n    utcyear:         fn('getUTCFullYear', DATE, 0),\n    utcmonth:        fn('getUTCMonth', DATE, 0),\n    utchours:        fn('getUTCHours', DATE, 0),\n    utcminutes:      fn('getUTCMinutes', DATE, 0),\n    utcseconds:      fn('getUTCSeconds', DATE, 0),\n    utcmilliseconds: fn('getUTCMilliseconds', DATE, 0),\n\n    // sequence functions\n    length:      fn('length', null, -1),\n\n    // STRING functions\n    parseFloat:  'parseFloat',\n    parseInt:    'parseInt',\n    upper:       fn('toUpperCase', STRING, 0),\n    lower:       fn('toLowerCase', STRING, 0),\n    substring:   fn('substring', STRING),\n    split:       fn('split', STRING),\n    trim:        fn('trim', STRING, 0),\n\n    // REGEXP functions\n    regexp:  REGEXP,\n    test:    fn('test', REGEXP),\n\n    // Control Flow functions\n    if: function(args) {\n        if (args.length < 3) error('Missing arguments to if function.');\n        if (args.length > 3) error('Too many arguments to if function.');\n        const a = args.map(codegen);\n        return '('+a[0]+'?'+a[1]+':'+a[2]+')';\n      }\n  };\n}\n","import Constants from './constants';\nimport Functions from './functions';\nimport {error, hasOwnProperty, isFunction, isString, toSet} from 'vega-util';\n\nfunction stripQuotes(s) {\n  const n = s && s.length - 1;\n  return n && (\n      (s[0]==='\"' && s[n]==='\"') ||\n      (s[0]==='\\'' && s[n]==='\\'')\n    ) ? s.slice(1, -1) : s;\n}\n\nexport default function(opt) {\n  opt = opt || {};\n\n  const allowed = opt.allowed ? toSet(opt.allowed) : {},\n        forbidden = opt.forbidden ? toSet(opt.forbidden) : {},\n        constants = opt.constants || Constants,\n        functions = (opt.functions || Functions)(visit),\n        globalvar = opt.globalvar,\n        fieldvar = opt.fieldvar,\n        outputGlobal = isFunction(globalvar)\n          ? globalvar\n          : id => `${globalvar}[\"${id}\"]`;\n\n  let globals = {},\n      fields = {},\n      memberDepth = 0;\n\n  function visit(ast) {\n    if (isString(ast)) return ast;\n    const generator = Generators[ast.type];\n    if (generator == null) error('Unsupported type: ' + ast.type);\n    return generator(ast);\n  }\n\n  const Generators = {\n    Literal: n => n.raw,\n\n    Identifier: n => {\n      const id = n.name;\n      if (memberDepth > 0) {\n        return id;\n      } else if (hasOwnProperty(forbidden, id)) {\n        return error('Illegal identifier: ' + id);\n      } else if (hasOwnProperty(constants, id)) {\n        return constants[id];\n      } else if (hasOwnProperty(allowed, id)) {\n        return id;\n      } else {\n        globals[id] = 1;\n        return outputGlobal(id);\n      }\n    },\n\n    MemberExpression: n => {\n        const d = !n.computed,\n              o = visit(n.object);\n        if (d) memberDepth += 1;\n        const p = visit(n.property);\n        if (o === fieldvar) {\n          // strip quotes to sanitize field name (#1653)\n          fields[stripQuotes(p)] = 1;\n        }\n        if (d) memberDepth -= 1;\n        return o + (d ? '.'+p : '['+p+']');\n      },\n\n    CallExpression: n => {\n        if (n.callee.type !== 'Identifier') {\n          error('Illegal callee type: ' + n.callee.type);\n        }\n        const callee = n.callee.name,\n              args = n.arguments,\n              fn = hasOwnProperty(functions, callee) && functions[callee];\n        if (!fn) error('Unrecognized function: ' + callee);\n        return isFunction(fn)\n          ? fn(args)\n          : fn + '(' + args.map(visit).join(',') + ')';\n      },\n\n    ArrayExpression: n =>\n        '[' + n.elements.map(visit).join(',') + ']',\n\n    BinaryExpression: n =>\n        '(' + visit(n.left) + ' ' + n.operator + ' ' + visit(n.right) + ')',\n\n    UnaryExpression: n =>\n        '(' + n.operator + visit(n.argument) + ')',\n\n    ConditionalExpression: n =>\n        '(' + visit(n.test) +\n          '?' + visit(n.consequent) +\n          ':' + visit(n.alternate) +\n          ')',\n\n    LogicalExpression: n =>\n        '(' + visit(n.left) + n.operator + visit(n.right) + ')',\n\n    ObjectExpression: n =>\n        '{' + n.properties.map(visit).join(',') + '}',\n\n    Property: n => {\n        memberDepth += 1;\n        const k = visit(n.key);\n        memberDepth -= 1;\n        return k + ':' + visit(n.value);\n      }\n  };\n\n  function codegen(ast) {\n    const result = {\n      code:    visit(ast),\n      globals: Object.keys(globals),\n      fields:  Object.keys(fields)\n    };\n    globals = {};\n    fields = {};\n    return result;\n  }\n\n  codegen.functions = functions;\n  codegen.constants = constants;\n\n  return codegen;\n}\n"],"names":["RawCode","Literal","Property","Identifier","ArrayExpression","BinaryExpression","CallExpression","ConditionalExpression","LogicalExpression","MemberExpression","ObjectExpression","UnaryExpression","ASTNode","type","TokenName","source","index","length","lookahead","prototype","visit","visitor","c","i","n","this","node","elements","left","right","callee","concat","arguments","test","consequent","alternate","object","property","properties","key","value","argument","children","SyntaxIdentifier","MessageUnexpectedToken","MessageInvalidRegExp","MessageUnterminatedRegExp","MessageStrictOctalLiteral","ILLEGAL","DISABLED","RegexNonAsciiIdentifierStart","RegExp","RegexNonAsciiIdentifierPart","assert","condition","message","Error","isDecimalDigit","ch","isHexDigit","indexOf","isOctalDigit","isWhiteSpace","isLineTerminator","isIdentifierStart","String","fromCharCode","isIdentifierPart","keywords","skipComment","charCodeAt","scanHexEscape","prefix","len","code","toLowerCase","throwError","scanUnicodeCodePointEscape","cu1","cu2","getEscapedIdentifier","id","substr","scanIdentifier","start","slice","getIdentifier","hasOwnProperty","end","scanPunctuator","code2","ch2","ch3","ch4","ch1","scanNumericLiteral","number","parseInt","scanHexLiteral","octal","scanOctalLiteral","parseFloat","scanRegExp","body","flags","str","classMarker","terminated","literal","scanRegExpBody","search","scanRegExpFlags","pattern","tmp","replace","$0","$1","e","exception","testRegExp","regex","advance","quote","scanStringLiteral","lex","token","peek","pos","finishBinaryExpression","operator","finishCallExpression","args","finishIdentifier","name","finishLiteral","raw","finishMemberExpression","accessor","computed","member","finishProperty","kind","messageFormat","error","Array","call","msg","whole","description","throwUnexpected","expect","match","matchKeyword","keyword","parseArrayInitialiser","push","parseConditionalExpression","finishArrayExpression","parseObjectPropertyKey","parseObjectProperty","parseObjectInitialiser","map","toString","Object","finishObjectExpression","legalKeywords","parsePrimaryExpression","expr","parseExpression","parseGroupExpression","parseArguments","parseNonComputedMember","isIdentifierName","parseNonComputedProperty","parseComputedMember","parsePostfixExpression","parseLeftHandSideExpressionAllowCall","parseUnaryExpression","finishUnaryExpression","binaryPrecedence","prec","marker","markers","stack","pop","parseBinaryExpression","finishConditionalExpression","NaN","E","LN2","LN10","LOG2E","LOG10E","PI","SQRT1_2","SQRT2","MIN_VALUE","MAX_VALUE","codegen","fn","cast","obj","lastIndexOf","join","fncall","DATE","STRING","REGEXP","isNaN","isFinite","abs","acos","asin","atan","atan2","ceil","cos","exp","floor","log","max","min","pow","random","round","sin","sqrt","tan","clamp","a","now","utc","datetime","date","day","year","month","hours","minutes","seconds","milliseconds","time","timezoneoffset","utcdate","utcday","utcyear","utcmonth","utchours","utcminutes","utcseconds","utcmilliseconds","upper","lower","substring","split","trim","regexp","if","opt","allowed","toSet","forbidden","constants","Constants","functions","Functions","globalvar","fieldvar","outputGlobal","isFunction","globals","fields","memberDepth","ast","isString","generator","Generators","d","o","p","s","stripQuotes","k","result","keys"],"mappings":"4RAAaA,EAAU,UACVC,EAAU,UACVC,EAAW,WACXC,EAAa,aAEbC,EAAkB,kBAClBC,EAAmB,mBACnBC,EAAiB,iBACjBC,EAAwB,wBACxBC,EAAoB,oBACpBC,EAAmB,mBACnBC,EAAmB,mBACnBC,EAAkB,kBAEhB,SAASC,EAAQC,QACzBA,KAAOA,ECsBd,IAAIC,EACAC,EACAC,EACAC,EACAC,EDvBJN,EAAQO,UAAUC,MAAQ,SAASC,OAC7BC,EAAGC,EAAGC,KAENH,EAAQI,MAAO,OAAO,MAErBH,EAKP,SAAkBI,UACRA,EAAKb,WACNT,SACIsB,EAAKC,cACTtB,OACAG,QACI,CAACkB,EAAKE,KAAMF,EAAKG,YACrBvB,QACI,CAACoB,EAAKI,QAAQC,OAAOL,EAAKM,gBAC9BzB,QACI,CAACmB,EAAKO,KAAMP,EAAKQ,WAAYR,EAAKS,gBACtC1B,QACI,CAACiB,EAAKU,OAAQV,EAAKW,eACvB3B,SACIgB,EAAKY,gBACTpC,QACI,CAACwB,EAAKa,IAAKb,EAAKc,YACpB7B,QACI,CAACe,EAAKe,wBAKN,IA5BJC,CAASjB,MAAOF,EAAE,EAAGC,EAAEF,EAAEL,OAAQM,EAAEC,IAAKD,KACzCD,EAAEC,GAAGH,MAAMC,GAAU,OAAO,IC6BpCP,EAAY,IAVc,GAWO,UACjCA,EAXe,GAWO,QACtBA,EAXsB,GAWO,aAC7BA,EAXmB,GAWO,UAC1BA,EAXuB,GAWO,OAC9BA,EAX0B,GAWO,UACjCA,EAXsB,GAWO,aAC7BA,EAXyB,GAWO,SAChCA,EAX6B,GAWO,oBAEpC,IAII6B,EAAmB,aASnBC,EAAyB,sBAMzBC,EAAuB,6BACvBC,EAA4B,wCAC5BC,EAA4B,iDAG5BC,EAAU,UACVC,EAAW,YAGXC,EAA+B,IAAIC,OAAO,wzJAE1CC,EAA8B,IAAID,OAAO,quLAO7C,SAASE,EAAOC,EAAWC,OAEpBD,QACG,IAAIE,MAAM,WAAaD,GAIjC,SAASE,EAAeC,UACdA,GAAM,IAAQA,GAAM,GAG9B,SAASC,EAAWD,SACX,yBAAyBE,QAAQF,IAAO,EAGjD,SAASG,EAAaH,SACb,WAAWE,QAAQF,IAAO,EAKnC,SAASI,EAAaJ,UACL,KAAPA,GAAwB,IAAPA,GAAwB,KAAPA,GAAwB,KAAPA,GAAwB,MAAPA,GACzEA,GAAM,MAAU,CAAC,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,MAAQ,OAAQE,QAAQF,IAAO,EAK7K,SAASK,EAAiBL,UACT,KAAPA,GAAwB,KAAPA,GAAwB,OAAPA,GAA0B,OAAPA,EAK/D,SAASM,EAAkBN,UACV,KAAPA,GAAwB,KAAPA,GACtBA,GAAM,IAAQA,GAAM,IACpBA,GAAM,IAAQA,GAAM,KACb,KAAPA,GACCA,GAAM,KAASR,EAA6BjB,KAAKgC,OAAOC,aAAaR,IAG3E,SAASS,EAAiBT,UACT,KAAPA,GAAwB,KAAPA,GACtBA,GAAM,IAAQA,GAAM,IACpBA,GAAM,IAAQA,GAAM,KACpBA,GAAM,IAAQA,GAAM,IACb,KAAPA,GACCA,GAAM,KAASN,EAA4BnB,KAAKgC,OAAOC,aAAaR,IAK1E,MAAMU,EAAW,IACV,KAAQ,KAAQ,MACf,MAAS,MAAS,MAAS,MAAS,OACnC,OAAU,OAAU,OAAU,OAAU,OAAU,QACjD,QAAW,QAAW,QAAW,QAAW,QAAW,QAAW,QAAW,SAC5E,SAAY,SAAY,SAAY,SAAY,SAAY,SAAY,SAAY,UACnF,UAAa,UAAa,UAAa,UAAa,WACnD,WAAc,WAAc,YAC3B,YAAe,aACd,aAAgB,GAG/B,SAASC,SACArD,EAAQC,GAAQ,OACfyC,EAAK3C,EAAOuD,WAAWtD,OAEzB8C,EAAaJ,KAAOK,EAAiBL,WACrC1C,GAOR,SAASuD,EAAcC,OACjBjD,EAAGkD,EAAKf,EAAIgB,EAAO,MAEvBD,EAAkB,MAAXD,EAAkB,EAAI,EACxBjD,EAAI,EAAGA,EAAIkD,IAAOlD,EACjBP,EAAQC,GAAU0C,EAAW5C,EAAOC,KACtC0C,EAAK3C,EAAOC,KACZ0D,EAAc,GAAPA,EAAY,mBAAmBd,QAAQF,EAAGiB,gBAEjDC,GAAW,GAAIhC,EAAwBI,UAGpCiB,OAAOC,aAAaQ,GAG7B,SAASG,QACHnB,EAAIgB,EAAMI,EAAKC,MAGnBL,EAAO,EAGI,OAJXhB,EAAK3C,EAAOC,KAKV4D,GAAW,GAAIhC,EAAwBI,GAGlChC,EAAQC,GAER0C,EADLD,EAAK3C,EAAOC,OAIZ0D,EAAc,GAAPA,EAAY,mBAAmBd,QAAQF,EAAGiB,sBAG/CD,EAAO,SAAmB,MAAPhB,IACrBkB,GAAW,GAAIhC,EAAwBI,GAIrC0B,GAAQ,MACHT,OAAOC,aAAaQ,IAE7BI,EAAiC,OAAzBJ,EAAO,OAAY,IAC3BK,EAAkC,OAA1BL,EAAO,MAAW,MACnBT,OAAOC,aAAaY,EAAKC,IAGlC,SAASC,QACHtB,EAAIuB,MAERvB,EAAK3C,EAAOuD,WAAWtD,KACvBiE,EAAKhB,OAAOC,aAAaR,GAGd,KAAPA,IAC+B,MAA7B3C,EAAOuD,WAAWtD,IACpB4D,GAAW,GAAIhC,EAAwBI,KAEvChC,GACF0C,EAAKa,EAAc,OACD,OAAPb,GAAgBM,EAAkBN,EAAGY,WAAW,KACzDM,GAAW,GAAIhC,EAAwBI,GAEzCiC,EAAKvB,GAGA1C,EAAQC,GAERkD,EADLT,EAAK3C,EAAOuD,WAAWtD,OAIrBA,EACFiE,GAAMhB,OAAOC,aAAaR,GAGf,KAAPA,IACFuB,EAAKA,EAAGC,OAAO,EAAGD,EAAGhE,OAAS,GACG,MAA7BF,EAAOuD,WAAWtD,IACpB4D,GAAW,GAAIhC,EAAwBI,KAEvChC,GACF0C,EAAKa,EAAc,OACD,OAAPb,GAAgBS,EAAiBT,EAAGY,WAAW,KACxDM,GAAW,GAAIhC,EAAwBI,GAEzCiC,GAAMvB,UAIHuB,EAwBT,SAASE,QACHC,EAAOH,SAEXG,EAAQpE,EAGRiE,EAAmC,KAA7BlE,EAAOuD,WAAWtD,GAAmBgE,IA3B7C,eACMI,EAAO1B,MAEX0B,EAAQpE,IACDA,EAAQC,GAAQ,IAEV,MADXyC,EAAK3C,EAAOuD,WAAWtD,WAGrBA,EAAQoE,EACDJ,QAELb,EAAiBT,WACjB1C,SAMCD,EAAOsE,MAAMD,EAAOpE,GASyCsE,GAgB7D,CACLzE,KAbgB,IAAdoE,EAAGhE,OAhQa,EAkQTmD,EAASmB,eAAeN,GAjQlB,EAmQC,SAAPA,EAlQU,EAoQH,SAAPA,GAAwB,UAAPA,EAxQJ,EAEJ,EA8QlBzC,MAAOyC,EACPG,MAAOA,EACPI,IAAKxE,GAMT,SAASyE,QAGLC,EAEAC,EACAC,EACAC,EANET,EAAQpE,EACV0D,EAAO3D,EAAOuD,WAAWtD,GAEzB8E,EAAM/E,EAAOC,UAKP0D,QAGD,QACA,QACA,QACA,QACA,QACA,SACA,SACA,QACA,QACA,QACA,QACA,YACD1D,EACK,CACLH,KA5Sc,EA6Sd2B,MAAOyB,OAAOC,aAAaQ,GAC3BU,MAAOA,EACPI,IAAKxE,cAOO,MAHd0E,EAAQ3E,EAAOuD,WAAWtD,EAAQ,WAIxB0D,QACD,QACA,QACA,QACA,QACA,QACA,QACA,SACA,QACA,QACA,UACH1D,GAAS,EACF,CACLH,KApUQ,EAqUR2B,MAAOyB,OAAOC,aAAaQ,GAAQT,OAAOC,aAAawB,GACvDN,MAAOA,EACPI,IAAKxE,QAGJ,QACA,UACHA,GAAS,EAGwB,KAA7BD,EAAOuD,WAAWtD,MAClBA,EAEG,CACLH,KAnVQ,EAoVR2B,MAAOzB,EAAOsE,MAAMD,EAAOpE,GAC3BoE,MAAOA,EACPI,IAAKxE,UAUL,UAFZ6E,EAAM9E,EAAOmE,OAAOlE,EAAO,IAIlB,CACLH,KAnWgB,EAoWhB2B,MAAOqD,EACPT,MAAOA,EACPI,IALFxE,GAAS,GAaC,SAFZ4E,EAAMC,EAAIX,OAAO,EAAG,KAES,QAARU,GAAyB,QAARA,EAE7B,CACL/E,KAjXgB,EAkXhB2B,MAAOoD,EACPR,MAAOA,EACPI,IALFxE,GAAS,GAYN8E,KAFLH,EAAMC,EAAIV,OAAO,EAAG,IAEH,IAAO,SAAStB,QAAQkC,IAAQ,GAAe,OAARH,EAE/C,CACL9E,KA9XgB,EA+XhB2B,MAAOmD,EACPP,MAAOA,EACPI,IALFxE,GAAS,IASC,OAAR2E,GACFf,GAAW,GAAIhC,EAAwBI,GAKrC,eAAeY,QAAQkC,IAAQ,EAE1B,CACLjF,KA9YgB,EA+YhB2B,MAAOsD,EACPV,MAAOA,EACPI,MALAxE,QASJ4D,GAAW,GAAIhC,EAAwBI,IAqDzC,SAAS+C,QACHC,EAAQZ,EAAO1B,KAGnBL,EAAOI,GADPC,EAAK3C,EAAOC,IACasD,WAAW,KAAe,MAAPZ,EAC1C,sEAEF0B,EAAQpE,EACRgF,EAAS,GACE,MAAPtC,EAAY,IACdsC,EAASjF,EAAOC,KAChB0C,EAAK3C,EAAOC,GAIG,MAAXgF,EAAgB,IACP,MAAPtC,GAAqB,MAAPA,UACd1C,EAjEV,SAAwBoE,OAClBY,EAAS,QAENhF,EAAQC,GACR0C,EAAW5C,EAAOC,KAGvBgF,GAAUjF,EAAOC,YAGG,IAAlBgF,EAAO/E,QACT2D,GAAW,GAAIhC,EAAwBI,GAGrCgB,EAAkBjD,EAAOuD,WAAWtD,KACtC4D,GAAW,GAAIhC,EAAwBI,GAGlC,CACLnC,KA9asB,EA+atB2B,MAAOyD,SAAS,KAAOD,EAAQ,IAC/BZ,MAAOA,EACPI,IAAKxE,GA4CMkF,CAAed,MAEpBvB,EAAaH,UA1CvB,SAA0B0B,OACpBY,EAAS,IAAMjF,EAAOC,UACnBA,EAAQC,GACR4C,EAAa9C,EAAOC,KAGzBgF,GAAUjF,EAAOC,YAGfgD,EAAkBjD,EAAOuD,WAAWtD,KAAWyC,EAAe1C,EAAOuD,WAAWtD,MAClF4D,GAAW,GAAIhC,EAAwBI,GAGlC,CACLnC,KAncsB,EAoctB2B,MAAOyD,SAASD,EAAQ,GACxBG,OAAO,EACPf,MAAOA,EACPI,IAAKxE,GAyBMoF,CAAiBhB,GAItB1B,GAAMD,EAAeC,EAAGY,WAAW,KACrCM,GAAW,GAAIhC,EAAwBI,QAIpCS,EAAe1C,EAAOuD,WAAWtD,KACtCgF,GAAUjF,EAAOC,KAEnB0C,EAAK3C,EAAOC,MAGH,MAAP0C,EAAY,KACdsC,GAAUjF,EAAOC,KACVyC,EAAe1C,EAAOuD,WAAWtD,KACtCgF,GAAUjF,EAAOC,KAEnB0C,EAAK3C,EAAOC,MAGH,MAAP0C,GAAqB,MAAPA,KAChBsC,GAAUjF,EAAOC,KAGN,OADX0C,EAAK3C,EAAOC,KACa,MAAP0C,IAChBsC,GAAUjF,EAAOC,MAEfyC,EAAe1C,EAAOuD,WAAWtD,SAC5ByC,EAAe1C,EAAOuD,WAAWtD,KACtCgF,GAAUjF,EAAOC,UAGnB4D,GAAW,GAAIhC,EAAwBI,UAIvCgB,EAAkBjD,EAAOuD,WAAWtD,KACtC4D,GAAW,GAAIhC,EAAwBI,GAGlC,CACLnC,KA5gBsB,EA6gBtB2B,MAAO6D,WAAWL,GAClBZ,MAAOA,EACPI,IAAKxE,GA+NT,SAASsF,QACHlB,EAAOmB,EAAMC,EAAOhE,SAExBtB,EAAY,KACZmD,IACAe,EAAQpE,EAERuF,EApFF,eACM7C,EAAI+C,EAAKC,EAAaC,MAG1BtD,EAAc,OADdK,EAAK3C,EAAOC,IACO,sDACnByF,EAAM1F,EAAOC,KAEb0F,GAAc,EACdC,GAAa,EACN3F,EAAQC,MAEbwF,GADA/C,EAAK3C,EAAOC,KAED,OAAP0C,EAGEK,GAFJL,EAAK3C,EAAOC,MAEYsD,WAAW,KACjCM,GAAW,GAAI9B,GAEjB2D,GAAO/C,OACF,GAAIK,EAAiBL,EAAGY,WAAW,IACxCM,GAAW,GAAI9B,QACV,GAAI4D,EACE,MAAPhD,IACFgD,GAAc,OAEX,IACM,MAAPhD,EAAY,CACdiD,GAAa,QAEG,MAAPjD,IACTgD,GAAc,UAKfC,GACH/B,GAAW,GAAI9B,GAKV,CACLN,MAFKiE,EAAIvB,OAAO,EAAGuB,EAAIxF,OAAS,GAGhC2F,QAASH,GAyCJI,GACPL,EAtCF,eACM9C,EAAI+C,EAAKD,MAEbC,EAAM,GACND,EAAQ,GACDxF,EAAQC,GAERkD,GADLT,EAAK3C,EAAOC,IACasD,WAAW,OAIlCtD,EACS,OAAP0C,GAAe1C,EAAQC,EACzB2D,GAAW,GAAIhC,EAAwBI,IAEvCwD,GAAS9C,EACT+C,GAAO/C,UAIP8C,EAAMM,OAAO,cAAgB,GAC/BlC,GAAW,GAAI/B,EAAsB2D,GAGhC,CACLhE,MAAOgE,EACPI,QAASH,GAYHM,GACRvE,EA7HF,SAAoBwE,EAASR,OACvBS,EAAMD,EAENR,EAAM5C,QAAQ,MAAQ,IASxBqD,EAAMA,EACHC,QAAQ,0BAA0B,CAACC,EAAIC,QAClCnB,SAASmB,EAAI,KAAO,cACf,IAETxC,GAAW,GAAI/B,MAEhBqE,QAAQ,kCAAmC,cAK1C/D,OAAO8D,GACX,MAAOI,GACPzC,GAAW,GAAI/B,cAOR,IAAIM,OAAO6D,EAASR,GAC3B,MAAOc,UACA,MA0FDC,CAAWhB,EAAK/D,MAAOgE,EAAMhE,OAE9B,CACLoE,QAASL,EAAKK,QAAUJ,EAAMI,QAC9BpE,MAAOA,EACPgF,MAAO,CACLR,QAAST,EAAK/D,MACdgE,MAAOA,EAAMhE,OAEf4C,MAAOA,EACPI,IAAKxE,GAWT,SAASyG,OACPpD,IAEIrD,GAASC,QACJ,CACLJ,KArxBS,EAsxBTuE,MAAOpE,EACPwE,IAAKxE,SAIH0C,EAAK3C,EAAOuD,WAAWtD,UAEzBgD,EAAkBN,GACbyB,IAIE,KAAPzB,GAAsB,KAAPA,GAAsB,KAAPA,EACzB+B,IAIE,KAAP/B,GAAsB,KAAPA,EA9QrB,eAEIgE,EAAOtC,EAAO1B,EAAIgB,EADhB+B,EAAM,GACgBN,GAAQ,MAGlC9C,EAAkB,OADlBqE,EAAQ3G,EAAOC,KACqB,MAAV0G,EACxB,2CAEFtC,EAAQpE,IACNA,EAEKA,EAAQC,GAAQ,KACrByC,EAAK3C,EAAOC,QAED0G,EAAO,CAChBA,EAAQ,SAEH,GAAW,OAAPhE,MACTA,EAAK3C,EAAOC,OACA+C,EAAiBL,EAAGY,WAAW,IA0D9B,OAAPZ,GAAiC,OAAlB3C,EAAOC,MACtBA,cA1DI0C,OACD,QACA,IACmB,MAAlB3C,EAAOC,MACPA,EACFyF,GAAO5B,KAEP4B,GAAOlC,EAAcb,aAGpB,IACH+C,GAAO,eAEJ,IACHA,GAAO,eAEJ,IACHA,GAAO,eAEJ,IACHA,GAAO,eAEJ,IACHA,GAAO,eAEJ,IACHA,GAAO,mBAIH5C,EAAaH,IAIF,KAHbgB,EAAO,WAAWd,QAAQF,MAIxByC,GAAQ,GAGNnF,EAAQC,GAAU4C,EAAa9C,EAAOC,MACxCmF,GAAQ,EACRzB,EAAc,EAAPA,EAAW,WAAWd,QAAQ7C,EAAOC,MAIxC,OAAO4C,QAAQF,IAAO,GACxB1C,EAAQC,GACR4C,EAAa9C,EAAOC,MACpB0D,EAAc,EAAPA,EAAW,WAAWd,QAAQ7C,EAAOC,QAGhDyF,GAAOxC,OAAOC,aAAaQ,IAE3B+B,GAAO/C,MASV,CAAA,GAAIK,EAAiBL,EAAGY,WAAW,UAGxCmC,GAAO/C,SAIG,KAAVgE,GACF9C,GAAW,GAAIhC,EAAwBI,GAGlC,CACLnC,KAhnBqB,EAinBrB2B,MAAOiE,EACPN,MAAOA,EACPf,MAAOA,EACPI,IAAKxE,GA8KE2G,GAME,KAAPjE,EACED,EAAe1C,EAAOuD,WAAWtD,EAAQ,IACpC+E,IAEFN,IAGLhC,EAAeC,GACVqC,IAGFN,IAGT,SAASmC,UACDC,EAAQ3G,SACdF,EAAQ6G,EAAMrC,IAEdtE,EAAYuG,IAEZzG,EAAQ6G,EAAMrC,IAEPqC,EAGT,SAASC,UACDC,EAAM/G,EAEZE,EAAYuG,IACZzG,EAAQ+G,EASV,SAASC,EAAuBC,EAAUrG,EAAMC,SACxCH,EAAO,IAAId,EAAsB,OAAbqH,GAAkC,OAAbA,EA3zBnB,oBALD,2BAi0B3BvG,EAAKuG,SAAWA,EAChBvG,EAAKE,KAAOA,EACZF,EAAKG,MAAQA,EACNH,EAGT,SAASwG,EAAqBpG,EAAQqG,SAC9BzG,EAAO,IAAId,EAv0BQ,yBAw0BzBc,EAAKI,OAASA,EACdJ,EAAKM,UAAYmG,EACVzG,EAWT,SAAS0G,EAAiBC,SAClB3G,EAAO,IAAId,EAAQ+B,UACzBjB,EAAK2G,KAAOA,EACL3G,EAGT,SAAS4G,EAAcT,SACfnG,EAAO,IAAId,EAz1BC,kBA01BlBc,EAAKc,MAAQqF,EAAMrF,MACnBd,EAAK6G,IAAMxH,EAAOsE,MAAMwC,EAAMzC,MAAOyC,EAAMrC,KACvCqC,EAAML,QACS,OAAb9F,EAAK6G,MACP7G,EAAK6G,IAAM,UAEb7G,EAAK8F,MAAQK,EAAML,OAEd9F,EAGT,SAAS8G,EAAuBC,EAAUrG,EAAQC,SAC1CX,EAAO,IAAId,EAp2BU,2BAq2B3Bc,EAAKgH,SAAwB,MAAbD,EAChB/G,EAAKU,OAASA,EACdV,EAAKW,SAAWA,EACXX,EAAKgH,WAAUrG,EAASsG,QAAS,GAC/BjH,EAST,SAASkH,GAAeC,EAAMtG,EAAKC,SAC3Bd,EAAO,IAAId,EAj3BE,mBAk3BnBc,EAAKa,IAAMA,EACXb,EAAKc,MAAQA,EACbd,EAAKmH,KAAOA,EACLnH,EAaT,SAASkD,GAAWiD,EAAOiB,OACrBC,EACFZ,EAAOa,MAAM7H,UAAUkE,MAAM4D,KAAKjH,UAAW,GAC7CkH,EAAMJ,EAAc5B,QAClB,UACA,CAACiC,EAAOnI,KACNqC,EAAOrC,EAAQmH,EAAKlH,OAAQ,sCACrBkH,EAAKnH,YAKlB+H,EAAQ,IAAIvF,MAAM0F,IACZlI,MAAQA,EACd+H,EAAMK,YAAcF,EACdH,EAKR,SAASM,GAAgBxB,GAn7BV,IAo7BTA,EAAMhH,MACR+D,GAAWiD,EA/4BY,2BAlCD,IAo7BpBA,EAAMhH,MACR+D,GAAWiD,EAv5Be,qBA5BL,IAs7BnBA,EAAMhH,MACR+D,GAAWiD,EA15Be,qBAlCR,IA+7BhBA,EAAMhH,MACR+D,GAAWiD,EA75BmB,yBAlCf,IAk8BbA,EAAMhH,MACR+D,GAAWiD,EAh6BiB,4BAo6B9BjD,GAAWiD,EAAOjF,EAAwBiF,EAAMrF,OAMlD,SAAS8G,GAAO9G,SACRqF,EAAQD,IA38BM,IA48BhBC,EAAMhH,MAA4BgH,EAAMrF,QAAUA,GACpD6G,GAAgBxB,GAMpB,SAAS0B,GAAM/G,UAn9BO,IAo9BbtB,EAAUL,MAA4BK,EAAUsB,QAAUA,EAKnE,SAASgH,GAAaC,UA59BH,IA69BVvI,EAAUL,MAAyBK,EAAUsB,QAAUiH,EAKhE,SAASC,WACD/H,EAAW,OAEjBX,EAAQE,EAAUkE,MAClBkE,GAAO,MAECC,GAAM,MACRA,GAAM,MACR3B,IACAjG,EAASgI,KAAK,QAEdhI,EAASgI,KAAKC,MAETL,GAAM,MACTD,GAAO,aAKb1B,IAzKF,SAA+BjG,SACvBD,EAAO,IAAId,EA3zBS,0BA4zB1Bc,EAAKC,SAAWA,EACTD,EAwKAmI,CAAsBlI,GAK/B,SAASmI,KACP9I,EAAQE,EAAUkE,YACZyC,EAAQD,WA1/BS,IA+/BnBC,EAAMhH,MAjgCc,IAigCiBgH,EAAMhH,MACzCgH,EAAM1B,OACRvB,GAAWiD,EAAO9E,GAEbuF,EAAcT,IAGhBO,EAAiBP,EAAMrF,OAGhC,SAASuH,SACHlC,EAAOtF,EAAK0C,SAEhBjE,EAAQE,EAAUkE,MAjhCE,KAkhCpByC,EAAQ3G,GAEEL,MACRoE,EAAK6E,KACLR,GAAO,KAEAV,GAAe,OAAQ3D,EADtB2E,OAxhCG,IA2hCT/B,EAAMhH,MAthCU,IAshCWgH,EAAMhH,MAGnC0B,EAAMuH,KACNR,GAAO,KAEAV,GAAe,OAAQrG,EADtBqH,YAJRP,GAAgBxB,GASpB,SAASmC,SAEL3H,EAAgBE,EADdD,EAAa,GACM2H,EAAM,GAC3BC,EAAWjG,WAEbjD,EAAQE,EAAUkE,MAClBkE,GAAO,MAECC,GAAM,MASZhH,EAAM,MARNF,EAAW0H,MAEExH,IAAI1B,OAAS8B,EACjBN,EAASE,IAAI8F,KAEb6B,EAAS7H,EAASE,IAAIC,QAI3B2H,OAAOhJ,UAAUoE,eAAe0D,KAAKgB,EAAK1H,GAC5CqC,GAAW,GA9gCoB,wEAghC/BqF,EAAI1H,IAAO,EAGbD,EAAWqH,KAAKtH,GAEXkH,GAAM,MACTD,GAAO,YAIXA,GAAO,KA7LT,SAAgChH,SACxBZ,EAAO,IAAId,EA52BU,2BA62B3Bc,EAAKY,WAAaA,EACXZ,EA4LA0I,CAAuB9H,GAkBhC,MAAM+H,GAAgB,IACd,GAGR,SAASC,SACHzJ,EAAMgH,EAAO0C,KAEbhB,GAAM,YApBZ,WACED,GAAO,WAEDiB,EAAOC,YAEblB,GAAO,KAEAiB,EAcEE,MAGLlB,GAAM,YACDG,QAGLH,GAAM,YACDS,QAGTnJ,EAAOK,EAAUL,KACjBG,EAAQE,EAAUkE,MA3mCE,IA8mChBvE,GAA4BwJ,GAAcnJ,EAAUsB,OACtD+H,EAAOnC,EAAiBR,IAAMpF,YACzB,GA3mCgB,IA2mCZ3B,GA7mCa,IA6mCkBA,EACpCK,EAAUiF,OACZvB,GAAW1D,EAAW6B,GAExBwH,EAAOjC,EAAcV,SAChB,CAAA,GApnCU,IAonCN/G,QACH,IAAI2C,MAAMP,GAxnCM,IAynCbpC,IACTgH,EAAQD,KACFpF,MAAyB,SAAhBqF,EAAMrF,MACrB+H,EAAOjC,EAAcT,IAxnCF,IAynCVhH,IACTgH,EAAQD,KACFpF,MAAQ,KACd+H,EAAOjC,EAAcT,IACZ0B,GAAM,MAAQA,GAAM,OAC7BgB,EAAOjC,EAAchC,KACrBwB,KAEAuB,GAAgBzB,YAGX2C,EAKT,SAASG,WACDvC,EAAO,MAEbmB,GAAO,MAEFC,GAAM,UACFvI,EAAQC,IACbkH,EAAKwB,KAAKC,OACNL,GAAM,OAGVD,GAAO,YAIXA,GAAO,KAEAnB,EAcT,SAASwC,YACPrB,GAAO,KAZT,WACEtI,EAAQE,EAAUkE,YACZyC,EAAQD,WAzZhB,SAA0BC,UAxwBJ,IAywBbA,EAAMhH,MAxwBI,IAywBfgH,EAAMhH,MA5wBgB,IA6wBtBgH,EAAMhH,MAzwBa,IA0wBnBgH,EAAMhH,KAuZH+J,CAAiB/C,IACpBwB,GAAgBxB,GAGXO,EAAiBP,EAAMrF,OAMvBqI,GAGT,SAASC,KACPxB,GAAO,WAEDiB,EAAOC,YAEblB,GAAO,KAEAiB,EA4BT,SAASQ,WACDR,EA1BR,eACMA,MAEJA,EAAOD,UAGDf,GAAM,KAERgB,EAAO/B,EAAuB,IAAK+B,EADxBI,WAEN,GAAIpB,GAAM,KAEfgB,EAAOrC,EAAqBqC,EADrBG,UAEF,CAAA,IAAInB,GAAM,WAEfgB,EAAO/B,EAAuB,IAAK+B,EADxBO,aAORP,EAMMS,MAhtCO,IAktChB9J,EAAUL,OACP0I,GAAM,OAASA,GAAM,aAClB,IAAI/F,MAAMP,UAIbsH,EAKT,SAASU,SACHpD,EAAO0C,KA9tCS,IAguChBrJ,EAAUL,MAnuCG,IAmuCyBK,EAAUL,KAClD0J,EAAOQ,SACF,CAAA,GAAIxB,GAAM,OAASA,GAAM,YACxB,IAAI/F,MAAMP,GACX,GAAIsG,GAAM,MAAQA,GAAM,MAAQA,GAAM,MAAQA,GAAM,KACzD1B,EAAQD,IACR2C,EAAOU,KACPV,EAvVJ,SAA+BtC,EAAUxF,SACjCf,EAAO,IAAId,EAx3BS,0BAy3B1Bc,EAAKuG,SAAWA,EAChBvG,EAAKe,SAAWA,EAChBf,EAAK8C,QAAS,EACP9C,EAkVEwJ,CAAsBrD,EAAMrF,MAAO+H,OACrC,CAAA,GAAIf,GAAa,WAAaA,GAAa,SAAWA,GAAa,gBAClE,IAAIhG,MAAMP,GAEhBsH,EAAOQ,aAGFR,EAGT,SAASY,GAAiBtD,OACpBuD,EAAO,KAlvCS,IAovChBvD,EAAMhH,MAvvCO,IAuvCqBgH,EAAMhH,YACnC,SAGDgH,EAAMrF,WACP,KACH4I,EAAO,YAGJ,KACHA,EAAO,YAGJ,IACHA,EAAO,YAGJ,IACHA,EAAO,YAGJ,IACHA,EAAO,YAGJ,SACA,SACA,UACA,MACHA,EAAO,YAGJ,QACA,QACA,SACA,SACA,iBACA,KACHA,EAAO,YAGJ,SACA,SACA,MACHA,EAAO,YAGJ,QACA,IACHA,EAAO,YAGJ,QACA,QACA,IACHA,EAAO,UAOJA,EAkET,SAASxB,SACHW,EAAMrI,SAEVqI,EA1DF,eACMc,EAAQC,EAASf,EAAM1C,EAAOuD,EAAMG,EAAO1J,EAAOoG,EAAUrG,EAAML,KAEtE8J,EAASnK,EACTU,EAAOqJ,KAIM,KADbG,EAAOD,GADPtD,EAAQ3G,WAGCU,MAETiG,EAAMuD,KAAOA,EACbxD,IAEA0D,EAAU,CAACD,EAAQnK,GAGnBqK,EAAQ,CAAC3J,EAAMiG,EAFfhG,EAAQoJ,OAIAG,EAAOD,GAAiBjK,IAAc,GAAG,MAGvCqK,EAAMtK,OAAS,GAAOmK,GAAQG,EAAMA,EAAMtK,OAAS,GAAGmK,MAC5DvJ,EAAQ0J,EAAMC,MACdvD,EAAWsD,EAAMC,MAAMhJ,MACvBZ,EAAO2J,EAAMC,MACbF,EAAQE,MACRjB,EAAOvC,EAAuBC,EAAUrG,EAAMC,GAC9C0J,EAAM5B,KAAKY,IAIb1C,EAAQD,KACFwD,KAAOA,EACbG,EAAM5B,KAAK9B,GACXyD,EAAQ3B,KAAKzI,GACbqJ,EAAOU,KACPM,EAAM5B,KAAKY,OAKbA,EAAOgB,EADPhK,EAAIgK,EAAMtK,OAAS,GAEnBqK,EAAQE,MACDjK,EAAI,GACT+J,EAAQE,MACRjB,EAAOvC,EAAuBuD,EAAMhK,EAAI,GAAGiB,MAAO+I,EAAMhK,EAAI,GAAIgJ,GAChEhJ,GAAK,SAGAgJ,EAQAkB,GAEHlC,GAAM,OACR3B,IACA1F,EAAa0H,KACbN,GAAO,KAGPiB,EAjiBJ,SAAqCtI,EAAMC,EAAYC,SAC/CT,EAAO,IAAId,EA70Be,gCA80BhCc,EAAKO,KAAOA,EACZP,EAAKQ,WAAaA,EAClBR,EAAKS,UAAYA,EACVT,EA4hBEgK,CAA4BnB,EAAMrI,EAF7B0H,OAKPW,EAKT,SAASC,WACDD,EAAOX,QAETL,GAAM,WACF,IAAI/F,MAAMP,UAGXsH,SC/7CM,CACboB,IAAW,MACXC,EAAW,SACXC,IAAW,WACXC,KAAW,YACXC,MAAW,aACXC,OAAW,cACXC,GAAW,UACXC,QAAW,eACXC,MAAW,aACXC,UAAW,mBACXC,UAAW,oBCTE,YAASC,YAabC,EAAGlE,EAAMmE,EAAM3L,UACfsH,YAZOE,EAAMF,EAAMqE,EAAM3L,OAC5B4L,EAAMH,EAAQnE,EAAK,WACnBqE,IACFC,EAAMD,EAAO,IAAMC,EAAM,IACW,IAAhCD,EAAKE,YAAY,OAAQ,KAAUD,EAAM,IAAMA,EAAM,MAEpDA,EAAM,IAAMpE,GAAQxH,EAAO,EAAI,GAAc,IAATA,EACzC,KACA,IAAMsH,EAAK9C,MAAM,GAAG4E,IAAIqC,GAASK,KAAK,KAAO,KAIhCC,CAAOvE,EAAMF,EAAMqE,EAAM3L,SAGpCgM,EAAO,WACPC,EAAS,SACTC,EAAS,eAER,CAELC,MAAU,eACVC,SAAU,kBACVC,IAAU,WACVC,KAAU,YACVC,KAAU,YACVC,KAAU,YACVC,MAAU,aACVC,KAAU,YACVC,IAAU,WACVC,IAAU,WACVC,MAAU,aACVC,IAAU,WACVC,IAAU,WACVC,IAAU,WACVC,IAAU,WACVC,OAAU,cACVC,MAAU,aACVC,IAAU,WACVC,KAAU,YACVC,IAAU,WAEVC,MAAO,SAASjG,GACVA,EAAKlH,OAAS,GAAG8H,QAAM,wCACvBZ,EAAKlH,OAAS,GAAG8H,QAAM,+CACrBsF,EAAIlG,EAAK8B,IAAIqC,SACZ,YAAY+B,EAAE,GAAG,cAAcA,EAAE,GAAG,IAAIA,EAAE,GAAG,MAItDC,IAAiB,WACjBC,IAAiB,WACjBC,SAAiB3B,EACjB4B,KAAiBlC,EAAG,UAAWM,EAAM,GACrC6B,IAAiBnC,EAAG,SAAUM,EAAM,GACpC8B,KAAiBpC,EAAG,cAAeM,EAAM,GACzC+B,MAAiBrC,EAAG,WAAYM,EAAM,GACtCgC,MAAiBtC,EAAG,WAAYM,EAAM,GACtCiC,QAAiBvC,EAAG,aAAcM,EAAM,GACxCkC,QAAiBxC,EAAG,aAAcM,EAAM,GACxCmC,aAAiBzC,EAAG,kBAAmBM,EAAM,GAC7CoC,KAAiB1C,EAAG,UAAWM,EAAM,GACrCqC,eAAiB3C,EAAG,oBAAqBM,EAAM,GAC/CsC,QAAiB5C,EAAG,aAAcM,EAAM,GACxCuC,OAAiB7C,EAAG,YAAaM,EAAM,GACvCwC,QAAiB9C,EAAG,iBAAkBM,EAAM,GAC5CyC,SAAiB/C,EAAG,cAAeM,EAAM,GACzC0C,SAAiBhD,EAAG,cAAeM,EAAM,GACzC2C,WAAiBjD,EAAG,gBAAiBM,EAAM,GAC3C4C,WAAiBlD,EAAG,gBAAiBM,EAAM,GAC3C6C,gBAAiBnD,EAAG,qBAAsBM,EAAM,GAGhD5L,OAAasL,EAAG,SAAU,MAAO,GAGjClG,WAAa,aACbJ,SAAa,WACb0J,MAAapD,EAAG,cAAeO,EAAQ,GACvC8C,MAAarD,EAAG,cAAeO,EAAQ,GACvC+C,UAAatD,EAAG,YAAaO,GAC7BgD,MAAavD,EAAG,QAASO,GACzBiD,KAAaxD,EAAG,OAAQO,EAAQ,GAGhCkD,OAASjD,EACT9K,KAASsK,EAAG,OAAQQ,GAGpBkD,GAAI,SAAS9H,GACLA,EAAKlH,OAAS,GAAG8H,QAAM,qCACvBZ,EAAKlH,OAAS,GAAG8H,QAAM,4CACrBsF,EAAIlG,EAAK8B,IAAIqC,SACZ,IAAI+B,EAAE,GAAG,IAAIA,EAAE,GAAG,IAAIA,EAAE,GAAG,oQCrF3B,SAAS6B,SAGhBC,GAFND,EAAMA,GAAO,IAEOC,QAAUC,QAAMF,EAAIC,SAAW,GAC7CE,EAAYH,EAAIG,UAAYD,QAAMF,EAAIG,WAAa,GACnDC,EAAYJ,EAAII,WAAaC,GAC7BC,GAAaN,EAAIM,WAAaC,IAAWrP,GACzCsP,EAAYR,EAAIQ,UAChBC,EAAWT,EAAIS,SACfC,EAAeC,aAAWH,GACtBA,EACAzL,GAAO,GAAEyL,MAAczL,UAE7B6L,EAAU,GACVC,EAAS,GACTC,EAAc,WAET5P,EAAM6P,MACTC,WAASD,GAAM,OAAOA,QACpBE,EAAYC,EAAWH,EAAIpQ,aAChB,MAAbsQ,GAAmBpI,QAAM,qBAAuBkI,EAAIpQ,MACjDsQ,EAAUF,SAGbG,EAAa,CACjBnR,QAASuB,GAAKA,EAAE+G,IAEhBpI,WAAYqB,UACJyD,EAAKzD,EAAE6G,YACT2I,EAAc,EACT/L,EACEM,iBAAe8K,EAAWpL,GAC5B8D,QAAM,uBAAyB9D,GAC7BM,iBAAe+K,EAAWrL,GAC5BqL,EAAUrL,GACRM,iBAAe4K,EAASlL,GAC1BA,GAEP6L,EAAQ7L,GAAM,EACP2L,EAAa3L,KAIxBxE,iBAAkBe,UACR6P,GAAK7P,EAAEkH,SACP4I,EAAIlQ,EAAMI,EAAEY,QACdiP,IAAGL,GAAe,SAChBO,EAAInQ,EAAMI,EAAEa,iBACdiP,IAAMX,IAERI,EA1DV,SAAqBS,SACbhQ,EAAIgQ,GAAKA,EAAEvQ,OAAS,SACnBO,IACK,MAAPgQ,EAAE,IAAmB,MAAPA,EAAEhQ,IACT,MAAPgQ,EAAE,IAAoB,MAAPA,EAAEhQ,IAChBgQ,EAAEnM,MAAM,GAAI,GAAKmM,EAqDRC,CAAYF,IAAM,GAEvBF,IAAGL,GAAe,GACfM,GAAKD,EAAI,IAAIE,EAAI,IAAIA,EAAE,MAGlCjR,eAAgBkB,IACU,eAAlBA,EAAEM,OAAOjB,MACXkI,QAAM,wBAA0BvH,EAAEM,OAAOjB,YAErCiB,EAASN,EAAEM,OAAOuG,KAClBF,EAAO3G,EAAEQ,UACTuK,EAAKhH,iBAAeiL,EAAW1O,IAAW0O,EAAU1O,UACrDyK,GAAIxD,QAAM,0BAA4BjH,GACpC+O,aAAWtE,GACdA,EAAGpE,GACHoE,EAAK,IAAMpE,EAAK8B,IAAI7I,GAAOuL,KAAK,KAAO,KAG/CvM,gBAAiBoB,GACb,IAAMA,EAAEG,SAASsI,IAAI7I,GAAOuL,KAAK,KAAO,IAE5CtM,iBAAkBmB,GACd,IAAMJ,EAAMI,EAAEI,MAAQ,IAAMJ,EAAEyG,SAAW,IAAM7G,EAAMI,EAAEK,OAAS,IAEpElB,gBAAiBa,GACb,IAAMA,EAAEyG,SAAW7G,EAAMI,EAAEiB,UAAY,IAE3ClC,sBAAuBiB,GACnB,IAAMJ,EAAMI,EAAES,MACZ,IAAMb,EAAMI,EAAEU,YACd,IAAMd,EAAMI,EAAEW,WACd,IAEN3B,kBAAmBgB,GACf,IAAMJ,EAAMI,EAAEI,MAAQJ,EAAEyG,SAAW7G,EAAMI,EAAEK,OAAS,IAExDnB,iBAAkBc,GACd,IAAMA,EAAEc,WAAW2H,IAAI7I,GAAOuL,KAAK,KAAO,IAE9CzM,SAAUsB,IACNwP,GAAe,QACTU,EAAItQ,EAAMI,EAAEe,YAClByO,GAAe,EACRU,EAAI,IAAMtQ,EAAMI,EAAEgB,kBAItB8J,EAAQ2E,SACTU,EAAS,CACbjN,KAAStD,EAAM6P,GACfH,QAAS3G,OAAOyH,KAAKd,GACrBC,OAAS5G,OAAOyH,KAAKb,WAEvBD,EAAU,GACVC,EAAS,GACFY,SAGTrF,EAAQkE,UAAYA,EACpBlE,EAAQgE,UAAYA,EAEbhE,mDHs0CM,SAAS5H,GAEtB1D,EAAQ,EACRC,GAFAF,EAAS2D,GAEOzD,OAChBC,EAAY,KAEZ4G,UAEMyC,EAAOC,QA95CA,IAg6CTtJ,EAAUL,WACN,IAAI2C,MAAM,2CAEX+G"}