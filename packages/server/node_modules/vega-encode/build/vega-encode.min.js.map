{"version":3,"file":"vega-encode.min.js","sources":["../src/AxisTicks.js","../src/DataJoin.js","../src/Encode.js","../src/LegendEntries.js","../src/LinkPath.js","../../../node_modules/d3-array/src/range.js","../src/Pie.js","../../../node_modules/d3-color/src/define.js","../../../node_modules/d3-color/src/color.js","../../../node_modules/d3-array/src/sum.js","../../../node_modules/d3-interpolate/src/constant.js","../../../node_modules/d3-interpolate/src/color.js","../../../node_modules/d3-interpolate/src/rgb.js","../../../node_modules/d3-interpolate/src/numberArray.js","../../../node_modules/d3-interpolate/src/array.js","../../../node_modules/d3-interpolate/src/date.js","../../../node_modules/d3-interpolate/src/number.js","../../../node_modules/d3-interpolate/src/object.js","../../../node_modules/d3-interpolate/src/string.js","../../../node_modules/d3-interpolate/src/value.js","../../../node_modules/d3-interpolate/src/round.js","../src/Scale.js","../src/SortItems.js","../src/Stack.js"],"sourcesContent":["import {Transform, ingest} from 'vega-dataflow';\nimport {tickCount, tickFormat, tickValues, validTicks} from 'vega-scale';\nimport {inherits} from 'vega-util';\n\n/**\n * Generates axis ticks for visualizing a spatial scale.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {Scale} params.scale - The scale to generate ticks for.\n * @param {*} [params.count=10] - The approximate number of ticks, or\n *   desired tick interval, to use.\n * @param {Array<*>} [params.values] - The exact tick values to use.\n *   These must be legal domain values for the provided scale.\n *   If provided, the count argument is ignored.\n * @param {function(*):string} [params.formatSpecifier] - A format specifier\n *   to use in conjunction with scale.tickFormat. Legal values are\n *   any valid d3 4.0 format specifier.\n * @param {function(*):string} [params.format] - The format function to use.\n *   If provided, the formatSpecifier argument is ignored.\n */\nexport default function AxisTicks(params) {\n  Transform.call(this, null, params);\n}\n\ninherits(AxisTicks, Transform, {\n  transform(_, pulse) {\n    if (this.value && !_.modified()) {\n      return pulse.StopPropagation;\n    }\n\n    var locale = pulse.dataflow.locale(),\n        out = pulse.fork(pulse.NO_SOURCE | pulse.NO_FIELDS),\n        ticks = this.value,\n        scale = _.scale,\n        tally = _.count == null ? (_.values ? _.values.length : 10) : _.count,\n        count = tickCount(scale, tally, _.minstep),\n        format = _.format || tickFormat(locale, scale, count, _.formatSpecifier, _.formatType, !!_.values),\n        values = _.values ? validTicks(scale, _.values, count) : tickValues(scale, count);\n\n    if (ticks) out.rem = ticks;\n\n    ticks = values.map((value, i) =>\n      ingest({\n        index: i / (values.length - 1 || 1),\n        value: value,\n        label: format(value)\n      })\n    );\n\n    if (_.extra && ticks.length) {\n      // add an extra tick pegged to the initial domain value\n      // this is used to generate axes with 'binned' domains\n      ticks.push(ingest({\n        index: -1,\n        extra: {value: ticks[0].value},\n        label: ''\n      }));\n    }\n\n    out.source = ticks;\n    out.add = ticks;\n    this.value = ticks;\n\n    return out;\n  }\n});\n","import {Transform, ingest, tupleid} from 'vega-dataflow';\nimport {error, fastmap, inherits, isArray} from 'vega-util';\n\n/**\n * Joins a set of data elements against a set of visual items.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {function(object): object} [params.item] - An item generator function.\n * @param {function(object): *} [params.key] - The key field associating data and visual items.\n */\nexport default function DataJoin(params) {\n  Transform.call(this, null, params);\n}\n\nfunction defaultItemCreate() {\n  return ingest({});\n}\n\nfunction newMap(key) {\n  const map = fastmap().test(t => t.exit);\n  map.lookup = t => map.get(key(t));\n  return map;\n}\n\ninherits(DataJoin, Transform, {\n  transform(_, pulse) {\n    var df = pulse.dataflow,\n        out = pulse.fork(pulse.NO_SOURCE | pulse.NO_FIELDS),\n        item = _.item || defaultItemCreate,\n        key = _.key || tupleid,\n        map = this.value;\n\n    // prevent transient (e.g., hover) requests from\n    // cascading across marks derived from marks\n    if (isArray(out.encode)) {\n      out.encode = null;\n    }\n\n    if (map && (_.modified('key') || pulse.modified(key))) {\n      error('DataJoin does not support modified key function or fields.');\n    }\n\n    if (!map) {\n      pulse = pulse.addAll();\n      this.value = map = newMap(key);\n    }\n\n    pulse.visit(pulse.ADD, t => {\n      const k = key(t);\n      let x = map.get(k);\n\n      if (x) {\n        if (x.exit) {\n          map.empty--;\n          out.add.push(x);\n        } else {\n          out.mod.push(x);\n        }\n      } else {\n        x = item(t);\n        map.set(k, x);\n        out.add.push(x);\n      }\n\n      x.datum = t;\n      x.exit = false;\n    });\n\n    pulse.visit(pulse.MOD, t => {\n      const k = key(t),\n            x = map.get(k);\n\n      if (x) {\n        x.datum = t;\n        out.mod.push(x);\n      }\n    });\n\n    pulse.visit(pulse.REM, t => {\n      const k = key(t),\n            x = map.get(k);\n\n      if (t === x.datum && !x.exit) {\n        out.rem.push(x);\n        x.exit = true;\n        ++map.empty;\n      }\n    });\n\n    if (pulse.changed(pulse.ADD_MOD)) out.modifies('datum');\n\n    if (pulse.clean() || _.clean && map.empty > df.cleanThreshold) {\n      df.runAfter(map.clean);\n    }\n\n    return out;\n  }\n});\n","import {Transform} from 'vega-dataflow';\nimport {falsy, inherits, isArray} from 'vega-util';\n\n/**\n * Invokes encoding functions for visual items.\n * @constructor\n * @param {object} params - The parameters to the encoding functions. This\n *   parameter object will be passed through to all invoked encoding functions.\n * @param {object} [params.mod=false] - Flag indicating if tuples in the input\n *   mod set that are unmodified by encoders should be included in the output.\n * @param {object} param.encoders - The encoding functions\n * @param {function(object, object): boolean} [param.encoders.update] - Update encoding set\n * @param {function(object, object): boolean} [param.encoders.enter] - Enter encoding set\n * @param {function(object, object): boolean} [param.encoders.exit] - Exit encoding set\n */\nexport default function Encode(params) {\n  Transform.call(this, null, params);\n}\n\ninherits(Encode, Transform, {\n  transform(_, pulse) {\n    var out = pulse.fork(pulse.ADD_REM),\n        fmod = _.mod || false,\n        encoders = _.encoders,\n        encode = pulse.encode;\n\n    // if an array, the encode directive includes additional sets\n    // that must be defined in order for the primary set to be invoked\n    // e.g., only run the update set if the hover set is defined\n    if (isArray(encode)) {\n      if (out.changed() || encode.every(e => encoders[e])) {\n        encode = encode[0];\n        out.encode = null; // consume targeted encode directive\n      } else {\n        return pulse.StopPropagation;\n      }\n    }\n\n    // marshall encoder functions\n    var reenter = encode === 'enter',\n        update = encoders.update || falsy,\n        enter = encoders.enter || falsy,\n        exit = encoders.exit || falsy,\n        set = (encode && !reenter ? encoders[encode] : update) || falsy;\n\n    if (pulse.changed(pulse.ADD)) {\n      pulse.visit(pulse.ADD, t => { enter(t, _); update(t, _); });\n      out.modifies(enter.output);\n      out.modifies(update.output);\n      if (set !== falsy && set !== update) {\n        pulse.visit(pulse.ADD, t => { set(t, _); });\n        out.modifies(set.output);\n      }\n    }\n\n    if (pulse.changed(pulse.REM) && exit !== falsy) {\n      pulse.visit(pulse.REM, t => { exit(t, _); });\n      out.modifies(exit.output);\n    }\n\n    if (reenter || set !== falsy) {\n      const flag = pulse.MOD | (_.modified() ? pulse.REFLOW : 0);\n      if (reenter) {\n        pulse.visit(flag, t => {\n          const mod = enter(t, _) || fmod;\n          if (set(t, _) || mod) out.mod.push(t);\n        });\n        if (out.mod.length) out.modifies(enter.output);\n      } else {\n        pulse.visit(flag, t => {\n          if (set(t, _) || fmod) out.mod.push(t);\n        });\n      }\n      if (out.mod.length) out.modifies(set.output);\n    }\n\n    return out.changed() ? out : pulse.StopPropagation;\n  }\n});\n","import {Transform, ingest} from 'vega-dataflow';\nimport {\n  GradientLegend, SymbolLegend,\n  labelFormat, labelFraction, labelValues,\n  scaleFraction, tickCount\n} from 'vega-scale';\nimport {constant, inherits, isFunction, peek} from 'vega-util';\n\n/**\n * Generates legend entries for visualizing a scale.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {Scale} params.scale - The scale to generate items for.\n * @param {*} [params.count=5] - The approximate number of items, or\n *   desired tick interval, to use.\n * @param {*} [params.limit] - The maximum number of entries to\n *   include in a symbol legend.\n * @param {Array<*>} [params.values] - The exact tick values to use.\n *   These must be legal domain values for the provided scale.\n *   If provided, the count argument is ignored.\n * @param {string} [params.formatSpecifier] - A format specifier\n *   to use in conjunction with scale.tickFormat. Legal values are\n *   any valid D3 format specifier string.\n * @param {function(*):string} [params.format] - The format function to use.\n *   If provided, the formatSpecifier argument is ignored.\n */\nexport default function LegendEntries(params) {\n  Transform.call(this, [], params);\n}\n\ninherits(LegendEntries, Transform, {\n  transform(_, pulse) {\n    if (this.value != null && !_.modified()) {\n      return pulse.StopPropagation;\n    }\n\n    var locale = pulse.dataflow.locale(),\n        out = pulse.fork(pulse.NO_SOURCE | pulse.NO_FIELDS),\n        items = this.value,\n        type  = _.type || SymbolLegend,\n        scale = _.scale,\n        limit = +_.limit,\n        count = tickCount(scale, _.count == null ? 5 : _.count, _.minstep),\n        lskip = !!_.values || type === SymbolLegend,\n        format = _.format || labelFormat(locale, scale, count, type, _.formatSpecifier, _.formatType, lskip),\n        values = _.values || labelValues(scale, count),\n        domain, fraction, size, offset, ellipsis;\n\n    if (items) out.rem = items;\n\n    if (type === SymbolLegend) {\n      if (limit && values.length > limit) {\n        pulse.dataflow.warn('Symbol legend count exceeds limit, filtering items.');\n        items = values.slice(0, limit - 1);\n        ellipsis = true;\n      } else {\n        items = values;\n      }\n\n      if (isFunction(size = _.size)) {\n        // if first value maps to size zero, remove from list (vega#717)\n        if (!_.values && scale(items[0]) === 0) {\n          items = items.slice(1);\n        }\n        // compute size offset for legend entries\n        offset = items.reduce((max, value) => Math.max(max, size(value, _)), 0);\n      } else {\n        size = constant(offset = size || 8);\n      }\n\n      items = items.map((value, index) =>\n        ingest({\n          index:  index,\n          label:  format(value, index, items),\n          value:  value,\n          offset: offset,\n          size:   size(value, _)\n        })\n      );\n\n      if (ellipsis) {\n        ellipsis = values[items.length];\n        items.push(ingest({\n          index:    items.length,\n          label:    `\\u2026${values.length-items.length} entries`,\n          value:    ellipsis,\n          offset:   offset,\n          size:     size(ellipsis, _)\n        }));\n      }\n    }\n\n    else if (type === GradientLegend) {\n      domain = scale.domain(),\n      fraction = scaleFraction(scale, domain[0], peek(domain));\n\n      // if automatic label generation produces 2 or fewer values,\n      // use the domain end points instead (fixes vega/vega#1364)\n      if (values.length < 3 && !_.values && domain[0] !== peek(domain)) {\n        values = [domain[0], peek(domain)];\n      }\n\n      items = values.map((value, index) =>\n        ingest({\n          index: index,\n          label: format(value, index, values),\n          value: value,\n          perc:  fraction(value)\n        })\n      );\n    }\n\n    else {\n      size = values.length - 1;\n      fraction = labelFraction(scale);\n\n      items = values.map((value, index) =>\n        ingest({\n          index: index,\n          label: format(value, index, values),\n          value: value,\n          perc:  index ? fraction(value) : 0,\n          perc2: index === size ? 1 : fraction(values[index+1])\n        })\n      );\n    }\n\n    out.source = items;\n    out.add = items;\n    this.value = items;\n\n    return out;\n  }\n});\n","import {Transform} from 'vega-dataflow';\nimport {error, fastmap, inherits} from 'vega-util';\n\nconst sourceX = t => t.source.x;\nconst sourceY = t => t.source.y;\nconst targetX = t => t.target.x;\nconst targetY = t => t.target.y;\n\n /**\n  * Layout paths linking source and target elements.\n  * @constructor\n  * @param {object} params - The parameters for this operator.\n  */\nexport default function LinkPath(params) {\n  Transform.call(this, {}, params);\n}\n\nLinkPath.Definition = {\n  'type': 'LinkPath',\n  'metadata': {'modifies': true},\n  'params': [\n    { 'name': 'sourceX', 'type': 'field', 'default': 'source.x' },\n    { 'name': 'sourceY', 'type': 'field', 'default': 'source.y' },\n    { 'name': 'targetX', 'type': 'field', 'default': 'target.x' },\n    { 'name': 'targetY', 'type': 'field', 'default': 'target.y' },\n    { 'name': 'orient', 'type': 'enum', 'default': 'vertical',\n      'values': ['horizontal', 'vertical', 'radial'] },\n    { 'name': 'shape', 'type': 'enum', 'default': 'line',\n      'values': ['line', 'arc', 'curve', 'diagonal', 'orthogonal'] },\n    { 'name': 'require', 'type': 'signal' },\n    { 'name': 'as', 'type': 'string', 'default': 'path' }\n  ]\n};\n\ninherits(LinkPath, Transform, {\n  transform(_, pulse) {\n    var sx = _.sourceX || sourceX,\n        sy = _.sourceY || sourceY,\n        tx = _.targetX || targetX,\n        ty = _.targetY || targetY,\n        as = _.as || 'path',\n        orient = _.orient || 'vertical',\n        shape = _.shape || 'line',\n        path = Paths.get(shape + '-' + orient) || Paths.get(shape);\n\n    if (!path) {\n      error('LinkPath unsupported type: ' + _.shape\n        + (_.orient ? '-' + _.orient : ''));\n    }\n\n    pulse.visit(pulse.SOURCE, t => {\n      t[as] = path(sx(t), sy(t), tx(t), ty(t));\n    });\n\n    return pulse.reflow(_.modified()).modifies(as);\n  }\n});\n\nconst line = (sx, sy, tx, ty) =>\n  'M' + sx + ',' + sy +\n  'L' + tx + ',' + ty;\n\nconst lineR= (sa, sr, ta, tr) => line(\n  sr * Math.cos(sa), sr * Math.sin(sa),\n  tr * Math.cos(ta), tr * Math.sin(ta)\n);\n\nconst arc = (sx, sy, tx, ty) => {\n  var dx = tx - sx,\n      dy = ty - sy,\n      rr = Math.sqrt(dx * dx + dy * dy) / 2,\n      ra = 180 * Math.atan2(dy, dx) / Math.PI;\n  return 'M' + sx + ',' + sy +\n         'A' + rr + ',' + rr +\n         ' ' + ra + ' 0 1' +\n         ' ' + tx + ',' + ty;\n};\n\nconst arcR = (sa, sr, ta, tr) => arc(\n  sr * Math.cos(sa), sr * Math.sin(sa),\n  tr * Math.cos(ta), tr * Math.sin(ta)\n);\n\nconst curve = (sx, sy, tx, ty) => {\n  const dx = tx - sx,\n        dy = ty - sy,\n        ix = 0.2 * (dx + dy),\n        iy = 0.2 * (dy - dx);\n  return 'M' + sx + ',' + sy +\n         'C' + (sx+ix) + ',' + (sy+iy) +\n         ' ' + (tx+iy) + ',' + (ty-ix) +\n         ' ' + tx + ',' + ty;\n};\n\nconst curveR = (sa, sr, ta, tr) => curve(\n  sr * Math.cos(sa), sr * Math.sin(sa),\n  tr * Math.cos(ta), tr * Math.sin(ta)\n);\n\nconst orthoX = (sx, sy, tx, ty) =>\n  'M' + sx + ',' + sy +\n  'V' + ty + 'H' + tx;\n\nconst orthoY = (sx, sy, tx, ty) =>\n  'M' + sx + ',' + sy +\n  'H' + tx + 'V' + ty;\n\nconst orthoR = (sa, sr, ta, tr) => {\n  const sc = Math.cos(sa),\n        ss = Math.sin(sa),\n        tc = Math.cos(ta),\n        ts = Math.sin(ta),\n        sf = Math.abs(ta - sa) > Math.PI ? ta <= sa : ta > sa;\n  return 'M' + (sr*sc) + ',' + (sr*ss) +\n         'A' + sr + ',' + sr + ' 0 0,' + (sf?1:0) +\n         ' ' + (sr*tc) + ',' + (sr*ts) +\n         'L' + (tr*tc) + ',' + (tr*ts);\n};\n\nconst diagonalX = (sx, sy, tx, ty) => {\n  const m = (sx + tx) / 2;\n  return 'M' + sx + ',' + sy +\n         'C' + m  + ',' + sy +\n         ' ' + m  + ',' + ty +\n         ' ' + tx + ',' + ty;\n};\n\nconst diagonalY = (sx, sy, tx, ty) => {\n  const m = (sy + ty) / 2;\n  return 'M' + sx + ',' + sy +\n         'C' + sx + ',' + m +\n         ' ' + tx + ',' + m +\n         ' ' + tx + ',' + ty;\n};\n\nconst diagonalR = (sa, sr, ta, tr) => {\n  const sc = Math.cos(sa),\n        ss = Math.sin(sa),\n        tc = Math.cos(ta),\n        ts = Math.sin(ta),\n        mr = (sr + tr) / 2;\n  return 'M' + (sr*sc) + ',' + (sr*ss) +\n         'C' + (mr*sc) + ',' + (mr*ss) +\n         ' ' + (mr*tc) + ',' + (mr*ts) +\n         ' ' + (tr*tc) + ',' + (tr*ts);\n};\n\nconst Paths = fastmap({\n  'line': line,\n  'line-radial': lineR,\n  'arc': arc,\n  'arc-radial': arcR,\n  'curve': curve,\n  'curve-radial': curveR,\n  'orthogonal-horizontal': orthoX,\n  'orthogonal-vertical': orthoY,\n  'orthogonal-radial': orthoR,\n  'diagonal-horizontal': diagonalX,\n  'diagonal-vertical': diagonalY,\n  'diagonal-radial': diagonalR\n});\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import {Transform} from 'vega-dataflow';\nimport {inherits, one} from 'vega-util';\nimport {range, sum} from 'd3-array';\n\n/**\n * Pie and donut chart layout.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {function(object): *} params.field - The value field to size pie segments.\n * @param {number} [params.startAngle=0] - The start angle (in radians) of the layout.\n * @param {number} [params.endAngle=2Ï€] - The end angle (in radians) of the layout.\n * @param {boolean} [params.sort] - Boolean flag for sorting sectors by value.\n */\nexport default function Pie(params) {\n  Transform.call(this, null, params);\n}\n\nPie.Definition = {\n  'type': 'Pie',\n  'metadata': {'modifies': true},\n  'params': [\n    { 'name': 'field', 'type': 'field' },\n    { 'name': 'startAngle', 'type': 'number', 'default': 0 },\n    { 'name': 'endAngle', 'type': 'number', 'default': 6.283185307179586 },\n    { 'name': 'sort', 'type': 'boolean', 'default': false },\n    { 'name': 'as', 'type': 'string', 'array': true, 'length': 2, 'default': ['startAngle', 'endAngle'] }\n  ]\n};\n\ninherits(Pie, Transform, {\n  transform(_, pulse) {\n    var as = _.as || ['startAngle', 'endAngle'],\n        startAngle = as[0],\n        endAngle = as[1],\n        field = _.field || one,\n        start = _.startAngle || 0,\n        stop = _.endAngle != null ? _.endAngle : 2 * Math.PI,\n        data = pulse.source,\n        values = data.map(field),\n        n = values.length,\n        a = start,\n        k = (stop - start) / sum(values),\n        index = range(n),\n        i, t, v;\n\n    if (_.sort) {\n      index.sort((a, b) => values[a] - values[b]);\n    }\n\n    for (i=0; i<n; ++i) {\n      v = values[index[i]];\n      t = data[index[i]];\n      t[startAngle] = a;\n      t[endAngle] = (a += v * k);\n    }\n\n    this.value = values;\n    return pulse.reflow(_.modified()).modifies(as);\n  }\n});\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","import {Transform} from 'vega-dataflow';\nimport {\n  error, inherits, isArray, isFunction, isString, peek, stringValue,\n  toSet, zoomLinear, zoomLog, zoomPow, zoomSymlog\n} from 'vega-util';\n\nimport {\n  Band,\n  BinOrdinal,\n  Diverging,\n  Linear,\n  Log,\n  Ordinal,\n  Point,\n  Pow,\n  Quantile,\n  Quantize,\n  Sequential,\n  Sqrt,\n  Symlog,\n  Threshold,\n  Time,\n  UTC,\n  bandSpace,\n  interpolate as getInterpolate,\n  scale as getScale,\n  scheme as getScheme,\n  interpolateColors,\n  interpolateRange,\n  isContinuous,\n  isInterpolating,\n  isLogarithmic,\n  quantizeInterpolator,\n  scaleImplicit,\n  tickCount\n} from 'vega-scale';\n\nimport {range as sequence} from 'd3-array';\n\nimport {\n  interpolate,\n  interpolateRound\n} from 'd3-interpolate';\n\nconst DEFAULT_COUNT = 5;\n\nfunction includeZero(scale) {\n  const type = scale.type;\n  return !scale.bins && (\n    type === Linear || type === Pow || type === Sqrt\n  );\n}\n\nfunction includePad(type) {\n  return isContinuous(type) && type !== Sequential;\n}\n\nconst SKIP = toSet([\n  'set', 'modified', 'clear', 'type', 'scheme', 'schemeExtent', 'schemeCount',\n  'domain', 'domainMin', 'domainMid', 'domainMax',\n  'domainRaw', 'domainImplicit', 'nice', 'zero', 'bins',\n  'range', 'rangeStep', 'round', 'reverse', 'interpolate', 'interpolateGamma'\n]);\n\n/**\n * Maintains a scale function mapping data values to visual channels.\n * @constructor\n * @param {object} params - The parameters for this operator.\n */\nexport default function Scale(params) {\n  Transform.call(this, null, params);\n  this.modified(true); // always treat as modified\n}\n\ninherits(Scale, Transform, {\n  transform(_, pulse) {\n    var df = pulse.dataflow,\n        scale = this.value,\n        key = scaleKey(_);\n\n    if (!scale || key !== scale.type) {\n      this.value = scale = getScale(key)();\n    }\n\n    for (key in _) if (!SKIP[key]) {\n      // padding is a scale property for band/point but not others\n      if (key === 'padding' && includePad(scale.type)) continue;\n      // invoke scale property setter, raise warning if not found\n      isFunction(scale[key])\n        ? scale[key](_[key])\n        : df.warn('Unsupported scale property: ' + key);\n    }\n\n    configureRange(scale, _,\n      configureBins(scale, _, configureDomain(scale, _, df))\n    );\n\n    return pulse.fork(pulse.NO_SOURCE | pulse.NO_FIELDS);\n  }\n});\n\nfunction scaleKey(_) {\n  var t = _.type, d = '', n;\n\n  // backwards compatibility pre Vega 5.\n  if (t === Sequential) return Sequential + '-' + Linear;\n\n  if (isContinuousColor(_)) {\n    n = _.rawDomain ? _.rawDomain.length\n      : _.domain ? _.domain.length + +(_.domainMid != null)\n      : 0;\n    d = n === 2 ? Sequential + '-'\n      : n === 3 ? Diverging + '-'\n      : '';\n  }\n\n  return ((d + t) || Linear).toLowerCase();\n}\n\nfunction isContinuousColor(_) {\n  const t = _.type;\n  return isContinuous(t) && t !== Time && t !== UTC && (\n    _.scheme || _.range && _.range.length && _.range.every(isString)\n  );\n}\n\nfunction configureDomain(scale, _, df) {\n  // check raw domain, if provided use that and exit early\n  const raw = rawDomain(scale, _.domainRaw, df);\n  if (raw > -1) return raw;\n\n  var domain = _.domain,\n      type = scale.type,\n      zero = _.zero || (_.zero === undefined && includeZero(scale)),\n      n, mid;\n\n  if (!domain) return 0;\n\n  // adjust continuous domain for minimum pixel padding\n  if (includePad(type) && _.padding && domain[0] !== peek(domain)) {\n    domain = padDomain(type, domain, _.range, _.padding, _.exponent, _.constant);\n  }\n\n  // adjust domain based on zero, min, max settings\n  if (zero || _.domainMin != null || _.domainMax != null || _.domainMid != null) {\n    n = ((domain = domain.slice()).length - 1) || 1;\n    if (zero) {\n      if (domain[0] > 0) domain[0] = 0;\n      if (domain[n] < 0) domain[n] = 0;\n    }\n    if (_.domainMin != null) domain[0] = _.domainMin;\n    if (_.domainMax != null) domain[n] = _.domainMax;\n\n    if (_.domainMid != null) {\n      mid = _.domainMid;\n      const i = mid > domain[n] ? n + 1 : mid < domain[0] ? 0 : n;\n      if (i !== n) df.warn('Scale domainMid exceeds domain min or max.', mid);\n      domain.splice(i, 0, mid);\n    }\n  }\n\n  // set the scale domain\n  scale.domain(domainCheck(type, domain, df));\n\n  // if ordinal scale domain is defined, prevent implicit\n  // domain construction as side-effect of scale lookup\n  if (type === Ordinal) {\n    scale.unknown(_.domainImplicit ? scaleImplicit : undefined);\n  }\n\n  // perform 'nice' adjustment as requested\n  if (_.nice && scale.nice) {\n    scale.nice((_.nice !== true && tickCount(scale, _.nice)) || null);\n  }\n\n  // return the cardinality of the domain\n  return domain.length;\n}\n\nfunction rawDomain(scale, raw, df) {\n  if (raw) {\n    scale.domain(domainCheck(scale.type, raw, df));\n    return raw.length;\n  } else {\n    return -1;\n  }\n}\n\nfunction padDomain(type, domain, range, pad, exponent, constant) {\n  var span = Math.abs(peek(range) - range[0]),\n      frac = span / (span - 2 * pad),\n      d = type === Log    ? zoomLog(domain, null, frac)\n        : type === Sqrt   ? zoomPow(domain, null, frac, 0.5)\n        : type === Pow    ? zoomPow(domain, null, frac, exponent || 1)\n        : type === Symlog ? zoomSymlog(domain, null, frac, constant || 1)\n        : zoomLinear(domain, null, frac);\n\n  domain = domain.slice();\n  domain[0] = d[0];\n  domain[domain.length-1] = d[1];\n  return domain;\n}\n\nfunction domainCheck(type, domain, df) {\n  if (isLogarithmic(type)) {\n    // sum signs of domain values\n    // if all pos or all neg, abs(sum) === domain.length\n    var s = Math.abs(domain.reduce((s, v) => s + (v < 0 ? -1 : v > 0 ? 1 : 0), 0));\n\n    if (s !== domain.length) {\n      df.warn('Log scale domain includes zero: ' + stringValue(domain));\n    }\n  }\n  return domain;\n}\n\nfunction configureBins(scale, _, count) {\n  let bins = _.bins;\n\n  if (bins && !isArray(bins)) {\n    // generate bin boundary array\n    const domain = scale.domain(),\n          lo = domain[0],\n          hi = peek(domain),\n          step = bins.step;\n\n    let start = bins.start == null ? lo : bins.start,\n        stop = bins.stop == null ? hi : bins.stop;\n\n    if (!step) error('Scale bins parameter missing step property.');\n    if (start < lo) start = step * Math.ceil(lo / step);\n    if (stop > hi) stop = step * Math.floor(hi / step);\n    bins = sequence(start, stop + step / 2, step);\n  }\n\n  if (bins) {\n    // assign bin boundaries to scale instance\n    scale.bins = bins;\n  } else if (scale.bins) {\n    // no current bins, remove bins if previously set\n    delete scale.bins;\n  }\n\n  // special handling for bin-ordinal scales\n  if (scale.type === BinOrdinal) {\n    if (!bins) {\n      // the domain specifies the bins\n      scale.bins = scale.domain();\n    } else if (!_.domain && !_.domainRaw) {\n      // the bins specify the domain\n      scale.domain(bins);\n      count = bins.length;\n    }\n  }\n\n  // return domain cardinality\n  return count;\n}\n\nfunction configureRange(scale, _, count) {\n  var type = scale.type,\n      round = _.round || false,\n      range = _.range;\n\n  // if range step specified, calculate full range extent\n  if (_.rangeStep != null) {\n    range = configureRangeStep(type, _, count);\n  }\n\n  // else if a range scheme is defined, use that\n  else if (_.scheme) {\n    range = configureScheme(type, _, count);\n    if (isFunction(range)) {\n      if (scale.interpolator) {\n        return scale.interpolator(range);\n      } else {\n        error(`Scale type ${type} does not support interpolating color schemes.`);\n      }\n    }\n  }\n\n  // given a range array for an interpolating scale, convert to interpolator\n  if (range && isInterpolating(type)) {\n    return scale.interpolator(\n      interpolateColors(flip(range, _.reverse), _.interpolate, _.interpolateGamma)\n    );\n  }\n\n  // configure rounding / interpolation\n  if (range && _.interpolate && scale.interpolate) {\n    scale.interpolate(getInterpolate(_.interpolate, _.interpolateGamma));\n  } else if (isFunction(scale.round)) {\n    scale.round(round);\n  } else if (isFunction(scale.rangeRound)) {\n    scale.interpolate(round ? interpolateRound : interpolate);\n  }\n\n  if (range) scale.range(flip(range, _.reverse));\n}\n\nfunction configureRangeStep(type, _, count) {\n  if (type !== Band && type !== Point) {\n    error('Only band and point scales support rangeStep.');\n  }\n\n  // calculate full range based on requested step size and padding\n  var outer = (_.paddingOuter != null ? _.paddingOuter : _.padding) || 0,\n      inner = type === Point ? 1\n            : ((_.paddingInner != null ? _.paddingInner : _.padding) || 0);\n  return [0, _.rangeStep * bandSpace(count, inner, outer)];\n}\n\nfunction configureScheme(type, _, count) {\n  var extent = _.schemeExtent,\n      name, scheme;\n\n  if (isArray(_.scheme)) {\n    scheme = interpolateColors(_.scheme, _.interpolate, _.interpolateGamma);\n  } else {\n    name = _.scheme.toLowerCase();\n    scheme = getScheme(name);\n    if (!scheme) error(`Unrecognized scheme name: ${_.scheme}`);\n  }\n\n  // determine size for potential discrete range\n  count = (type === Threshold) ? count + 1\n    : (type === BinOrdinal) ? count - 1\n    : (type === Quantile || type === Quantize) ? (+_.schemeCount || DEFAULT_COUNT)\n    : count;\n\n  // adjust and/or quantize scheme as appropriate\n  return isInterpolating(type) ? adjustScheme(scheme, extent, _.reverse)\n    : isFunction(scheme) ? quantizeInterpolator(adjustScheme(scheme, extent), count)\n    : type === Ordinal ? scheme : scheme.slice(0, count);\n}\n\nfunction adjustScheme(scheme, extent, reverse) {\n  return (isFunction(scheme) && (extent || reverse))\n    ? interpolateRange(scheme, flip(extent || [0, 1], reverse))\n    : scheme;\n}\n\nfunction flip(array, reverse) {\n  return reverse ? array.slice().reverse() : array;\n}\n\n","import {Transform, stableCompare} from 'vega-dataflow';\nimport {inherits} from 'vega-util';\n\n/**\n * Sorts scenegraph items in the pulse source array.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {function(*,*): number} [params.sort] - A comparator\n *   function for sorting tuples.\n */\nexport default function SortItems(params) {\n  Transform.call(this, null, params);\n}\n\ninherits(SortItems, Transform, {\n  transform(_, pulse) {\n    const mod = _.modified('sort')\n          || pulse.changed(pulse.ADD)\n          || pulse.modified(_.sort.fields)\n          || pulse.modified('datum');\n\n    if (mod) pulse.source.sort(stableCompare(_.sort));\n\n    this.modified(mod);\n    return pulse;\n  }\n});\n","import {Transform, stableCompare} from 'vega-dataflow';\nimport {inherits, one} from 'vega-util';\n\nconst Zero = 'zero',\n      Center = 'center',\n      Normalize = 'normalize',\n      DefOutput = ['y0', 'y1'];\n\n/**\n * Stack layout for visualization elements.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {function(object): *} params.field - The value field to stack.\n * @param {Array<function(object): *>} [params.groupby] - An array of accessors to groupby.\n * @param {function(object,object): number} [params.sort] - A comparator for stack sorting.\n * @param {string} [offset='zero'] - Stack baseline offset. One of 'zero', 'center', 'normalize'.\n */\nexport default function Stack(params) {\n  Transform.call(this, null, params);\n}\n\nStack.Definition = {\n  'type': 'Stack',\n  'metadata': {'modifies': true},\n  'params': [\n    { 'name': 'field', 'type': 'field' },\n    { 'name': 'groupby', 'type': 'field', 'array': true },\n    { 'name': 'sort', 'type': 'compare' },\n    { 'name': 'offset', 'type': 'enum', 'default': Zero, 'values': [Zero, Center, Normalize] },\n    { 'name': 'as', 'type': 'string', 'array': true, 'length': 2, 'default': DefOutput }\n  ]\n};\n\ninherits(Stack, Transform, {\n  transform(_, pulse) {\n    var as = _.as || DefOutput,\n        y0 = as[0],\n        y1 = as[1],\n        sort = stableCompare(_.sort),\n        field = _.field || one,\n        stack = _.offset === Center ? stackCenter\n              : _.offset === Normalize ? stackNormalize\n              : stackZero,\n        groups, i, n, max;\n\n    // partition, sum, and sort the stack groups\n    groups = partition(pulse.source, _.groupby, sort, field);\n\n    // compute stack layouts per group\n    for (i=0, n=groups.length, max=groups.max; i<n; ++i) {\n      stack(groups[i], max, field, y0, y1);\n    }\n\n    return pulse.reflow(_.modified()).modifies(as);\n  }\n});\n\nfunction stackCenter(group, max, field, y0, y1) {\n  var last = (max - group.sum) / 2,\n      m = group.length,\n      j = 0, t;\n\n  for (; j<m; ++j) {\n    t = group[j];\n    t[y0] = last;\n    t[y1] = (last += Math.abs(field(t)));\n  }\n}\n\nfunction stackNormalize(group, max, field, y0, y1) {\n  var scale = 1 / group.sum,\n      last = 0,\n      m = group.length,\n      j = 0, v = 0, t;\n\n  for (; j<m; ++j) {\n    t = group[j];\n    t[y0] = last;\n    t[y1] = last = scale * (v += Math.abs(field(t)));\n  }\n}\n\nfunction stackZero(group, max, field, y0, y1) {\n  var lastPos = 0,\n      lastNeg = 0,\n      m = group.length,\n      j = 0, v, t;\n\n  for (; j<m; ++j) {\n    t = group[j];\n    v = +field(t);\n    if (v < 0) {\n      t[y0] = lastNeg;\n      t[y1] = (lastNeg += v);\n    } else {\n      t[y0] = lastPos;\n      t[y1] = (lastPos += v);\n    }\n  }\n}\n\nfunction partition(data, groupby, sort, field) {\n  var groups = [],\n      get = f => f(t),\n      map, i, n, m, t, k, g, s, max;\n\n  // partition data points into stack groups\n  if (groupby == null) {\n    groups.push(data.slice());\n  } else {\n    for (map={}, i=0, n=data.length; i<n; ++i) {\n      t = data[i];\n      k = groupby.map(get);\n      g = map[k];\n      if (!g) {\n        map[k] = (g = []);\n        groups.push(g);\n      }\n      g.push(t);\n    }\n  }\n\n  // compute sums of groups, sort groups as needed\n  for (k=0, max=0, m=groups.length; k<m; ++k) {\n    g = groups[k];\n    for (i=0, s=0, n=g.length; i<n; ++i) {\n      s += Math.abs(field(g[i]));\n    }\n    g.sum = s;\n    if (s > max) max = s;\n    if (sort) g.sort(sort);\n  }\n  groups.max = max;\n\n  return groups;\n}\n"],"names":["AxisTicks","params","Transform","call","this","DataJoin","defaultItemCreate","ingest","Encode","LegendEntries","transform","_","pulse","value","modified","StopPropagation","locale","dataflow","out","fork","NO_SOURCE","NO_FIELDS","ticks","scale","tally","count","values","length","tickCount","minstep","format","tickFormat","formatSpecifier","formatType","validTicks","tickValues","rem","map","i","index","label","extra","push","source","add","df","item","key","tupleid","isArray","encode","error","addAll","fastmap","test","t","exit","lookup","get","newMap","visit","ADD","k","x","empty","mod","set","datum","MOD","REM","changed","ADD_MOD","modifies","clean","cleanThreshold","runAfter","ADD_REM","fmod","encoders","every","e","reenter","update","falsy","enter","output","flag","REFLOW","domain","fraction","size","offset","ellipsis","items","type","SymbolLegend","limit","lskip","labelFormat","labelValues","warn","slice","isFunction","reduce","max","Math","constant","GradientLegend","scaleFraction","peek","perc","labelFraction","perc2","sourceX","sourceY","y","targetX","target","targetY","LinkPath","Definition","sx","sy","tx","ty","as","orient","shape","path","Paths","SOURCE","reflow","line","arc","dx","dy","rr","sqrt","atan2","PI","curve","ix","iy","sa","sr","ta","tr","cos","sin","sc","ss","tc","ts","abs","m","mr","start","stop","step","n","arguments","ceil","range","Array","Pie","constructor","factory","prototype","extend","parent","definition","Object","create","Color","v","startAngle","endAngle","field","one","data","a","valueof","sum","undefined","sort","b","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","l","trim","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","hasOwnProperty","NaN","r","g","rgbConvert","o","opacity","rgb_formatHex","hex","rgb_formatRgb","isNaN","min","round","toString","h","s","Hsl","hslConvert","hsl2rgb","m1","m2","define","copy","channels","assign","displayable","formatHsl","pow","gamma","nogamma","exponential","d","linear","rgbGamma","end","colorRgb","c","genericArray","nb","na","Date","setTime","reA","reB","am","bm","bs","bi","lastIndex","q","number","zero","join","string","date","ArrayBuffer","isView","DataView","valueOf","object","numberArray","includePad","isContinuous","Sequential","SKIP","toSet","Scale","domainCheck","isLogarithmic","stringValue","adjustScheme","scheme","extent","reverse","interpolateRange","flip","array","SortItems","Linear","Time","UTC","isString","isContinuousColor","rawDomain","domainMid","Diverging","scaleKey","getScale","rangeStep","Band","Point","outer","paddingOuter","padding","inner","paddingInner","bandSpace","configureRangeStep","name","schemeExtent","interpolateColors","interpolate","interpolateGamma","getScheme","Threshold","BinOrdinal","Quantile","Quantize","schemeCount","isInterpolating","quantizeInterpolator","Ordinal","configureScheme","interpolator","getInterpolate","rangeRound","interpolateRound","configureRange","bins","lo","hi","floor","sequence","domainRaw","configureBins","raw","mid","Pow","Sqrt","includeZero","pad","exponent","span","frac","Log","zoomLog","zoomPow","Symlog","zoomSymlog","zoomLinear","padDomain","domainMin","domainMax","splice","unknown","domainImplicit","scaleImplicit","nice","configureDomain","fields","stableCompare","Zero","Center","Normalize","DefOutput","Stack","stackCenter","group","y0","y1","last","j","stackNormalize","stackZero","lastPos","lastNeg","groups","stack","groupby","f","partition"],"mappings":"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"}