{"version":3,"sources":["dependencies/htmldiff.js"],"names":["e","n","t","r","i","f","_","a","o","s","u","h","l","c","d","b","p","test","start_in_before","start_in_after","length","end_in_before","end_in_after","push","Error","g","w","v","k","m","y","find_these","in_these","indexOf","toString","action","slice","join","equal","insert","delete","replace","html_to_tokens","find_matching_blocks","find_match","create_index","calculate_operations","render_operations","define","module","exports","window","htmldiff"],"mappings":"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","file":"htmldiff.ae5bf453.js","sourceRoot":"../packages/demo","sourcesContent":["/**\n * htmldiff.js a diff algorithm that understands HTML, and produces HTML in the browser.\n *\n * @author https://github.com/tnwinc\n * @see https://github.com/tnwinc/htmldiff.js\n */\n!function () { var e, n, t, r, i, f, _, a, o, s, u, h, l, c, d, b, p; o = function (e) { return \">\" === e }, s = function (e) { return \"<\" === e }, h = function (e) { return /^\\s+$/.test(e) }, u = function (e) { return /^\\s*<[^>]+>\\s*$/.test(e) }, l = function (e) { return !u(e) }, e = function () { return function (e, n, t) { this.start_in_before = e, this.start_in_after = n, this.length = t, this.end_in_before = this.start_in_before + this.length - 1, this.end_in_after = this.start_in_after + this.length - 1 } }(), a = function (e) { var n, t, r, i, f, _; for (f = \"char\", t = \"\", _ = [], r = 0, i = e.length; r < i; r++)switch (n = e[r], f) { case \"tag\": o(n) ? (t += \">\", _.push(t), t = \"\", f = h(n) ? \"whitespace\" : \"char\") : t += n; break; case \"char\": s(n) ? (t && _.push(t), t = \"<\", f = \"tag\") : /\\s/.test(n) ? (t && _.push(t), t = n, f = \"whitespace\") : /[\\w\\#@]+/i.test(n) ? t += n : (t && _.push(t), t = n); break; case \"whitespace\": s(n) ? (t && _.push(t), t = \"<\", f = \"tag\") : h(n) ? t += n : (t && _.push(t), t = n, f = \"char\"); break; default: throw new Error(\"Unknown mode \" + f) }return t && _.push(t), _ }, f = function (n, t, r, i, f, _, a) { var o, s, u, h, l, c, d, b, p, g, w, v, k, m, y; for (s = i, o = _, u = 0, w = {}, c = h = m = i, y = f; m <= y ? h < y : h > y; c = m <= y ? ++h : --h) { for (k = {}, d = 0, b = (p = r[n[c]]).length; d < b; d++)if (!((l = p[d]) < _)) { if (l >= a) break; null == w[l - 1] && (w[l - 1] = 0), v = w[l - 1] + 1, k[l] = v, v > u && (s = c - v + 1, o = l - v + 1, u = v) } w = k } return 0 !== u && (g = new e(s, o, u)), g }, d = function (e, n, t, r, i, _, a, o) { var s; return null != (s = f(e, 0, t, r, i, _, a)) && (r < s.start_in_before && _ < s.start_in_after && d(e, n, t, r, s.start_in_before, _, s.start_in_after, o), o.push(s), s.end_in_before <= i && s.end_in_after <= a && d(e, n, t, s.end_in_before + 1, i, s.end_in_after + 1, a, o)), o }, r = function (e) { var n, t, r, i, f, _; if (null == e.find_these) throw new Error(\"params must have find_these key\"); if (null == e.in_these) throw new Error(\"params must have in_these key\"); for (r = {}, n = 0, i = (f = e.find_these).length; n < i; n++)for (r[_ = f[n]] = [], t = e.in_these.indexOf(_); -1 !== t;)r[_].push(t), t = e.in_these.indexOf(_, t + 1); return r }, _ = function (e, n) { var t, i; return i = [], t = r({ find_these: e, in_these: n }), d(e, n, t, 0, e.length, 0, n.length, i) }, n = function (n, t) { var r, i, f, a, o, s, u, h, l, c, d, b, p, g, w, v; if (null == n) throw new Error(\"before_tokens?\"); if (null == t) throw new Error(\"after_tokens?\"); for (w = g = 0, p = [], r = { \"false,false\": \"replace\", \"true,false\": \"insert\", \"false,true\": \"delete\", \"true,true\": \"none\" }, (d = _(n, t)).push(new e(n.length, t.length, 0)), a = f = 0, h = d.length; f < h; a = ++f)\"none\" !== (i = r[[w === (c = d[a]).start_in_before, g === c.start_in_after].toString()]) && p.push({ action: i, start_in_before: w, end_in_before: \"insert\" !== i ? c.start_in_before - 1 : void 0, start_in_after: g, end_in_after: \"delete\" !== i ? c.start_in_after - 1 : void 0 }), 0 !== c.length && p.push({ action: \"equal\", start_in_before: c.start_in_before, end_in_before: c.end_in_before, start_in_after: c.start_in_after, end_in_after: c.end_in_after }), w = c.end_in_before + 1, g = c.end_in_after + 1; for (v = [], u = { action: \"none\" }, o = function (e) { return \"equal\" === e.action && (e.end_in_before - e.start_in_before == 0 && /^\\s$/.test(n.slice(e.start_in_before, +e.end_in_before + 1 || 9e9))) }, s = 0, l = p.length; s < l; s++)o(b = p[s]) && \"replace\" === u.action || \"replace\" === b.action && \"replace\" === u.action ? (u.end_in_before = b.end_in_before, u.end_in_after = b.end_in_after) : (v.push(b), u = b); return v }, t = function (e, n, t) { var r, i, f, _, a, o; for (_ = void 0, f = i = 0, a = (n = n.slice(e, +n.length + 1 || 9e9)).length; i < a && (o = n[f], !0 === (r = t(o)) && (_ = f), !1 !== r); f = ++i); return null != _ ? n.slice(0, +_ + 1 || 9e9) : [] }, p = function (e, n) { var r, i, f, _, a; for (_ = \"\", f = 0, r = n.length; ;) { if (f >= r) break; if (i = t(f, n, l), f += i.length, 0 !== i.length && (_ += \"<\" + e + \">\" + i.join(\"\") + \"</\" + e + \">\"), f >= r) break; f += (a = t(f, n, u)).length, _ += a.join(\"\") } return _ }, (c = { equal: function (e, n, t) { return n.slice(e.start_in_before, +e.end_in_before + 1 || 9e9).join(\"\") }, insert: function (e, n, t) { var r; return r = t.slice(e.start_in_after, +e.end_in_after + 1 || 9e9), p(\"ins\", r) }, delete: function (e, n, t) { var r; return r = n.slice(e.start_in_before, +e.end_in_before + 1 || 9e9), p(\"del\", r) } }).replace = function (e, n, t) { return c.delete(e, n, t) + c.insert(e, n, t) }, b = function (e, n, t) { var r, i, f, _; for (_ = \"\", r = 0, i = t.length; r < i; r++)f = t[r], _ += c[f.action](f, e, n); return _ }, (i = function (e, t) { var r; return e === t ? e : (e = a(e), t = a(t), r = n(e, t), b(e, t, r)) }).html_to_tokens = a, i.find_matching_blocks = _, _.find_match = f, _.create_index = r, i.calculate_operations = n, i.render_operations = b, \"function\" == typeof define ? define([], function () { return i }) : \"undefined\" != typeof module && null !== module ? module.exports = i : \"undefined\" != typeof window && (window.htmldiff = i) }();"]}